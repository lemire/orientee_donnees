<!doctype html><html lang=fr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  Modèles de programmation XML
  #

Il y a plusieurs façons de traiter du XML. Chaque méthode a ses avantages et ses inconvénients. Bien que ce module s&rsquo;intéresse surtout à l&rsquo;approche DOM, il est important de connaître l&rsquo;ensemble des méthodologies possibles et d&rsquo;avoir une idée des forces et faiblesses relatives de chacune.

  Traitement du XML comme du texte
  #

Le traitement du XML comme du texte consiste à manipuler les fichiers XML en utilisant les fonctions de traitement de chaînes de caractères disponibles dans les langages de programmation. Cette approche est simple à implémenter mais peut être source d&rsquo;erreurs si le XML n&rsquo;est pas correctement formé."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://lemire.github.io/orientee_donnees/legacy/semaine_11/modeles_de_programmation/"><meta property="og:site_name" content="Programmation orientée-données"><meta property="og:title" content="Modèles de programmation"><meta property="og:description" content="Modèles de programmation XML # Il y a plusieurs façons de traiter du XML. Chaque méthode a ses avantages et ses inconvénients. Bien que ce module s’intéresse surtout à l’approche DOM, il est important de connaître l’ensemble des méthodologies possibles et d’avoir une idée des forces et faiblesses relatives de chacune.
Traitement du XML comme du texte # Le traitement du XML comme du texte consiste à manipuler les fichiers XML en utilisant les fonctions de traitement de chaînes de caractères disponibles dans les langages de programmation. Cette approche est simple à implémenter mais peut être source d’erreurs si le XML n’est pas correctement formé."><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="legacy"><title>Modèles de programmation | Programmation orientée-données</title><link rel=icon href=/orientee_donnees/favicon.png><link rel=manifest href=/orientee_donnees/manifest.json><link rel=canonical href=https://lemire.github.io/orientee_donnees/legacy/semaine_11/modeles_de_programmation/><link rel=stylesheet href=/orientee_donnees/book.min.a006656c8516e75b9916bf87553cdae09b7d022a0ef8c51fcafcb935e4e3d410.css integrity="sha256-oAZlbIUW51uZFr+HVTza4Jt9AioO+MUfyvy5NeTj1BA=" crossorigin=anonymous><script defer src=/orientee_donnees/fuse.min.js></script><script defer src=/orientee_donnees/fr.search.min.50c3023bc489f9bfe2e4735dd4efcdccfe45b406fb3fee4cab752692efe0c2cc.js integrity="sha256-UMMCO8SJ+b/i5HNd1O/NzP5FtAb7P+5Mq3Umku/gwsw=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/orientee_donnees/><img src=/orientee_donnees/favicon.png alt=Logo class=book-icon><span>Programmation orientée-données</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Rechercher aria-label=Rechercher maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/orientee_donnees/docs/modules/>Modules</a><ul><li><input type=checkbox id=section-e0cc4658cb7e0b0785f48bc734a0d868 class=toggle>
<label for=section-e0cc4658cb7e0b0785f48bc734a0d868 class=flex><a href=/orientee_donnees/docs/modules/a_module_json/ class=flex-auto>Module JSON</a></label><ul><li><a href=/orientee_donnees/docs/modules/a_module_json/json/>JSON</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/geojson/>GeoJSON</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/markdown/>MarkDown</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/javascript/>JavaScript et JSON</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/jq/>Activité avec jq</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/gjson/>Google Gson</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/encodage_des_caracteres_unicode/>Encodage des caractères Unicode</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-5dba5cff8314754d322613989dda2ee4 class=toggle>
<label for=section-5dba5cff8314754d322613989dda2ee4 class=flex><a href=/orientee_donnees/docs/modules/b_module_xml/ class=flex-auto>Module XML</a></label><ul><li><input type=checkbox id=section-b0f20b451fe2916a31453d5cbda26a99 class=toggle>
<label for=section-b0f20b451fe2916a31453d5cbda26a99 class=flex><a role=button class=flex-auto>Les fondements</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/introduction_a_xml/>Introduction à XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/principes_du_xml/>Principes du XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/creer_un_fichier_xml/>Créer un fichier XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/mise_en_forme_du_xml/>Mise en forme du XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/laboratoire_sur_la_structure_en_arbre_des_documents_xml/>Laboratoire sur la structure en arbre des documents XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/labo/>Vérificateur de XML bien formé</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/autoevaluation/>Autoévaluation XML</a></li></ul></li><li><input type=checkbox id=section-344b47eee8a14c6b3ccb143c1f5bf702 class=toggle>
<label for=section-344b47eee8a14c6b3ccb143c1f5bf702 class=flex><a role=button class=flex-auto>Validation</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/definition_de_type_de_document/>Définition de type de document</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/validation_de_documents_xml/>Validation de documents XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/autoevaluation_dtd/>Autoévaluation</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/docx_microsoft_word/>Docx (Microsoft Word)</a></li></ul></li><li><input type=checkbox id=section-d96b044d241e9b77e9c0592b528dc057 class=toggle>
<label for=section-d96b044d241e9b77e9c0592b528dc057 class=flex><a role=button class=flex-auto>Espaces de nom</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/espaces/espace_de_nom/>Espace de noms</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/espaces/autoevaluation_adv/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-7677844365e3481ee5b7c1ca5bb4c38f class=toggle>
<label for=section-7677844365e3481ee5b7c1ca5bb4c38f class=flex><a role=button class=flex-auto>Exemples</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/le_fichier_pomxml_en_java/>Le fichier pom.xml en Java</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/le_fichier_sitemapxml/>Le fichier sitemap.xml</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/les_fichiers_csproj_en_c/>Les fichiers csproj en C#</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/rss/>Les formats RSS et Atom</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/three/>X3D</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/le_fichier_androidmanifestxml/>Le fichier AndroidManifest.xml</a></li></ul></li><li><input type=checkbox id=section-3414f79d7e98c78ad1d3dbda25a1f55a class=toggle>
<label for=section-3414f79d7e98c78ad1d3dbda25a1f55a class=flex><a role=button class=flex-auto>RDF</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/introduction_au_rdf/>Introduction au RDF</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/applications_du_rdf/>Applications du RDF</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/autoevaluation_rdf/>Autoévaluation</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/sparql/>Activité SPARQL</a></li></ul></li><li><input type=checkbox id=section-fb1c5b6035fd6d3caf7148dac6057b07 class=toggle>
<label for=section-fb1c5b6035fd6d3caf7148dac6057b07 class=flex><a role=button class=flex-auto>Modèles de programmation</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/dom/>DOM</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/javascript/>JavaScript et DOM</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/autoevaluation/>Autoévaluation DOM</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/jackson/>Activité JSON/XML avec Jackson</a></li></ul></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-5d65d8b100e58c6d134cd4da58e1cd2c class=toggle>
<label for=section-5d65d8b100e58c6d134cd4da58e1cd2c class=flex><a href=/orientee_donnees/docs/modules/c_module_xslt/ class=flex-auto>Module XPath, XSLT, XQuery</a></label><ul><li><input type=checkbox id=section-7ac06c5c6cb170ae259ae8aaa0f2fa28 class=toggle>
<label for=section-7ac06c5c6cb170ae259ae8aaa0f2fa28 class=flex><a role=button class=flex-auto>XPath</a></label><ul><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_un_premier_laboratoire/>XPath : un premier laboratoire</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_approfondissement/>XPath : approfondissement</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_en_ligne_java/>XPath avec Java</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_second_laboratoire/>XPath : second laboratoire</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/autoevaluation_xpath/>Autoévaluation</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_20_et_30/>XPath 2.0 et 3.0</a></li></ul></li><li><input type=checkbox id=section-f547d6e3d6ea0eaec3e702c4dfd2c47e class=toggle>
<label for=section-f547d6e3d6ea0eaec3e702c4dfd2c47e class=flex><a role=button class=flex-auto>XSLT</a></label><ul><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/introduction_au_xslt/>Introduction au XSLT</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_en_ligne/>XSLT en ligne</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_en_ligne_java/>XSLT avec Java</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/un_peu_plus_de_xslt_fonctionnement_de_base_template_et_value-of/>Un peu plus de XSLT : fonctionnement de base, template et value-of</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_valeurs_dattribut/>Les valeurs d’attribut</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_modulaire/>XSLT modulaire</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_noms_delements/>Les noms d’éléments</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/attribut_mode/>Attribut mode</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/la_fonction_generate-id/>La fonction generate-id</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_tests/>Les tests</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_boucles/>Les boucles</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/cles_et_aggregation/>Clés et aggrégation</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/generer_des_noeuds_dynamiquement/>Générer des noeuds dynamiquement</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/variables_et_parametres/>Variables et paramètres</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/mise_en_forme/>Mise en forme</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/espaces_de_noms/>Espaces de noms</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_axes/>Les axes</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/etude_dun_exemple_docbook/>Étude d’un exemple (DocBook)</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/laboratoire_xslt/>Laboratoire XSLT</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/laboratoire_xslt_avec_python_optionnel/>Laboratoire XSLT avec Python (optionnel)</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_20_et_30/>XSLT 2.0 et 3.0</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/autoevaluation_xslt/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-b3c85205c7eb5b729c0be10ddbd24290 class=toggle>
<label for=section-b3c85205c7eb5b729c0be10ddbd24290 class=flex><a role=button class=flex-auto>XQuery</a></label><ul><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xquery/xquery/>XQuery</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xquery/laboratoire_xquery_avec_python_optionnel/>Laboratoire XQuery avec Python (optionnel)</a></li></ul></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-2a04c3a72cdb954ae36ef63df297319a class=toggle>
<label for=section-2a04c3a72cdb954ae36ef63df297319a class=flex><a href=/orientee_donnees/docs/modules/d_module_html/ class=flex-auto>Module HTML, CSS, SVG, MathML</a></label><ul><li><a href=/orientee_donnees/docs/modules/d_module_html/xhtml/>XHTML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/html_5/>HTML 5</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/autoevaluation/>Autoévaluation HTML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/css/>CSS</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/css2/>CSS (partie 2)</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/css3/>CSS (partie 3)</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/laboratoire_css/>Laboratoire CSS</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/svg/>SVG</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/mathml/>MathML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/cssmathml/>Laboratoire CSS/MathML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/autoevaluation_css/>Autoévaluation CSS</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-d04fad4b07d7c0c5b266f3694fc3c8af class=toggle>
<label for=section-d04fad4b07d7c0c5b266f3694fc3c8af class=flex><a href=/orientee_donnees/docs/modules/e_module_services/ class=flex-auto>Module Services et YAML</a></label><ul><li><a href=/orientee_donnees/docs/modules/e_module_services/serveurweb/>Serveur Web Java</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/base64/>Base64</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/asynchronous_javascript_and_xml_ajax/>Chargement XML/JSON en JavaScript</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/introservicesweb/>Introduction aux services web</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/serviceweb/>Création d'un service web</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/yaml/>YAML</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/travail/>Travail noté</a></li></ul></li></ul></li><li><input type=checkbox id=section-bfca035f077c4a3a8e327bb4e5d9433e class=toggle>
<label for=section-bfca035f077c4a3a8e327bb4e5d9433e class=flex><a role=button class=flex-auto>Contenu suppplémentaire</a></label><ul><li><a href=/orientee_donnees/docs/extra/glossaire/>Glossaire</a></li><li><a href=/orientee_donnees/docs/extra/pense-bete_xml/>Pense-bête XML</a></li><li><a href=/orientee_donnees/docs/extra/pense-bete_json/>Pense-bête JSON</a></li><li><a href=/orientee_donnees/docs/extra/pense-bete_yaml/>Pense-bête YAML</a></li><li><a href=/orientee_donnees/docs/extra/professeur/>Professeur</a></li></ul></li><li><a href=/orientee_donnees/docs/travail_integration/>Travail d'intégration</a></li><li><a href=/orientee_donnees/docs/evaluation/>Évaluation et feuille de route</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/orientee_donnees/svg/menu.svg class=book-icon alt=Menu></label><h3>Modèles de programmation</h3><label for=toc-control><img src=/orientee_donnees/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#traitement-du-xml-comme-du-texte>Traitement du XML comme du texte</a></li><li><a href=#traitement-événementiel>Traitement événementiel</a></li><li><a href=#traitement-avec-itérateurs-stax>Traitement avec itérateurs (StAX)</a></li><li><a href=#traitement-avec-modèle-en-arbre-dom>Traitement avec modèle en arbre (DOM)</a></li><li><a href=#transformations-xslt>Transformations (XSLT)</a></li><li><a href=#xpath>XPath</a></li><li><a href=#sérialization-java>Sérialization Java</a></li><li><a href=#réflexion>Réflexion</a></li><li><a href=#traitement-par-abstraction>Traitement par abstraction</a></li><li><a href=#sérialisation-xml-java-beans>Sérialisation XML Java Beans</a></li><li><a href=#services-web>Services web</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=modèles-de-programmation-xml>Modèles de programmation XML
<a class=anchor href=#mod%c3%a8les-de-programmation-xml>#</a></h1><p>Il y a plusieurs façons de traiter du XML. Chaque méthode a ses avantages et ses inconvénients. Bien que ce module s&rsquo;intéresse surtout à l&rsquo;approche DOM, il est important de connaître l&rsquo;ensemble des méthodologies possibles et d&rsquo;avoir une idée des forces et faiblesses relatives de chacune.</p><h3 id=traitement-du-xml-comme-du-texte>Traitement du XML comme du texte
<a class=anchor href=#traitement-du-xml-comme-du-texte>#</a></h3><p>Le traitement du XML comme du texte consiste à manipuler les fichiers XML en utilisant les fonctions de traitement de chaînes de caractères disponibles dans les langages de programmation. Cette approche est simple à implémenter mais peut être source d&rsquo;erreurs si le XML n&rsquo;est pas correctement formé.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>int</span><span style=color:#fff> </span>montant<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>10<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span>String<span style=color:#fff> </span>nom<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;Gérard Beauford&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;&lt;?xml version=\&#34;1.0\&#34; ?&gt;\n&lt;facture&gt;&lt;montant&gt;&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>montant<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#0a3069>&#34;&lt;/montant&gt;&lt;nom&gt;&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>nom<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;&lt;/nom&gt;&lt;/facture&gt;&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Cependant, comment savoir si le XML produit est bien formé ? Dans l&rsquo;exemple précédent, le document affiché ne sera pas du XML bien formé à cause de l&rsquo;accent dans « Gérard » si l&rsquo;environnement n&rsquo;utilise pas UTF-8. Il est donc préférable d&rsquo;utiliser des librairies dédiées au XML.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;?xml version=&#34;1.0&#34; encoding=&#34;ISO-8859-1&#34; standalone=&#34;no&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#0550ae>&lt;facture&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>&lt;montant&gt;</span>432<span style=color:#0550ae>&lt;/montant&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>&lt;nom&gt;</span>Gérard Beauford<span style=color:#0550ae>&lt;/nom&gt;</span>
</span></span><span style=display:flex><span><span style=color:#0550ae>&lt;/facture&gt;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;?xml version=&#34;1.0&#34; encoding=&#34;ISO-8859-1&#34; standalone=&#34;yes&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!DOCTYPE facture [
</span></span></span><span style=display:flex><span><span style=color:#57606a>  &lt;!ELEMENT facture (montant, nom)&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#57606a>&lt;!ELEMENT montant (#PCDATA)&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#57606a>&lt;!ELEMENT nom (#PCDATA)&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#57606a>&lt;!ATTLIST nom surnom CDATA &#34;Joe&#34;&gt;</span>
</span></span><span style=display:flex><span>]&gt;
</span></span><span style=display:flex><span><span style=color:#0550ae>&lt;facture&gt;&lt;montant&gt;</span>432<span style=color:#0550ae>&lt;/montant&gt;&lt;nom&gt;</span>Gérard Beauford<span style=color:#0550ae>&lt;/nom&gt;&lt;/facture&gt;</span>
</span></span></code></pre></div><h3 id=traitement-événementiel>Traitement événementiel
<a class=anchor href=#traitement-%c3%a9v%c3%a9nementiel>#</a></h3><p>Le traitement événementiel, comme SAX, lit le document XML de manière séquentielle et génère des événements à chaque élément rencontré. Cette méthode est efficace pour les gros fichiers mais nécessite une gestion manuelle de l&rsquo;état.</p><p>Pour le document suivant :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#0550ae>&lt;facture&gt;&lt;montant&gt;</span>432<span style=color:#0550ae>&lt;/montant&gt;&lt;nom&gt;</span>Maman<span style=color:#0550ae>&lt;/nom&gt;&lt;/facture&gt;</span>
</span></span></code></pre></div><p>Événements SAX générés :</p><ol><li>Début du document</li><li>Début d&rsquo;un élément « facture »</li><li>Début d&rsquo;un élément « montant »</li><li>Texte « 432 »</li><li>Fin d&rsquo;un élément « montant »</li><li>Début d&rsquo;un élément « nom »</li><li>Texte « Maman »</li><li>Fin d&rsquo;un élément « nom »</li><li>Fin d&rsquo;un élément « facture »</li><li>Fin du document</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>org.xml.sax.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>org.xml.sax.helpers.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>MonApplicationSAX</span><span style=color:#fff> </span><span style=color:#cf222e>extends</span><span style=color:#fff> </span>DefaultHandler<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>startElement</span><span style=color:#1f2328>(</span>String<span style=color:#fff> </span>uri<span style=color:#1f2328>,</span><span style=color:#fff> </span>String<span style=color:#fff> </span>name<span style=color:#1f2328>,</span><span style=color:#fff> </span>String<span style=color:#fff> </span>qName<span style=color:#1f2328>,</span><span style=color:#fff> </span>Attributes<span style=color:#fff> </span>atts<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>uri<span style=color:#1f2328>.</span><span style=color:#1f2328>length</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#0550ae>&gt;</span><span style=color:#fff> </span>0<span style=color:#1f2328>)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Début de l&#39;élément &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>uri<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;:&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>qName<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>else</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Début de l&#39;élément &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>name<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>endElement</span><span style=color:#1f2328>(</span>String<span style=color:#fff> </span>uri<span style=color:#1f2328>,</span><span style=color:#fff> </span>String<span style=color:#fff> </span>name<span style=color:#1f2328>,</span><span style=color:#fff> </span>String<span style=color:#fff> </span>qName<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>uri<span style=color:#1f2328>.</span><span style=color:#1f2328>length</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#0550ae>&gt;</span><span style=color:#fff> </span>0<span style=color:#1f2328>)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Fin de l&#39;élément &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>uri<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;:&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>qName<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>else</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Fin de l&#39;élément &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>name<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>characters</span><span style=color:#1f2328>(</span><span style=color:#cf222e>char</span><span style=color:#0550ae>[]</span><span style=color:#fff> </span>ch<span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>start<span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>length<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>String<span style=color:#1f2328>(</span>ch<span style=color:#1f2328>,</span><span style=color:#fff> </span>start<span style=color:#1f2328>,</span><span style=color:#fff> </span>length<span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>Exception<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>XMLReader<span style=color:#fff> </span>xr<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>XMLReaderFactory<span style=color:#1f2328>.</span><span style=color:#1f2328>createXMLReader</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>xr<span style=color:#1f2328>.</span><span style=color:#1f2328>setContentHandler</span><span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>MonApplicationSAX<span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>xr<span style=color:#1f2328>.</span><span style=color:#1f2328>parse</span><span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>InputSource<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileReader<span style=color:#1f2328>(</span>args<span style=color:#0550ae>[</span>0<span style=color:#0550ae>]</span><span style=color:#1f2328>)));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><h3 id=traitement-avec-itérateurs-stax>Traitement avec itérateurs (StAX)
<a class=anchor href=#traitement-avec-it%c3%a9rateurs-stax>#</a></h3><p>StAX (Streaming API for XML) offre une approche &ldquo;pull&rdquo; plus intuitive que SAX, permettant au programmeur de contrôler la lecture du document XML de manière itérative.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>javax.xml.stream.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.net.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>staxex</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>input<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>args<span style=color:#0550ae>[</span>0<span style=color:#0550ae>]</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>URL<span style=color:#fff> </span>u<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>URL<span style=color:#1f2328>(</span>input<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>InputStream<span style=color:#fff> </span>in<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>u<span style=color:#1f2328>.</span><span style=color:#1f2328>openStream</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>XMLInputFactory<span style=color:#fff> </span>factory<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>XMLInputFactory<span style=color:#1f2328>.</span><span style=color:#1f2328>newInstance</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>XMLStreamReader<span style=color:#fff> </span>parser<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>factory<span style=color:#1f2328>.</span><span style=color:#1f2328>createXMLStreamReader</span><span style=color:#1f2328>(</span>in<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>event<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>parser<span style=color:#1f2328>.</span><span style=color:#1f2328>next</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                 </span>event<span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span>XMLStreamConstants<span style=color:#1f2328>.</span><span style=color:#1f2328>END_DOCUMENT</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                 </span>event<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>parser<span style=color:#1f2328>.</span><span style=color:#1f2328>next</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>switch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>event<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#cf222e>case</span><span style=color:#fff> </span>XMLStreamConstants<span style=color:#1f2328>.</span><span style=color:#1f2328>START_ELEMENT</span><span style=color:#1f2328>:</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>parser<span style=color:#1f2328>.</span><span style=color:#1f2328>getLocalName</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                        </span><span style=color:#cf222e>break</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#cf222e>case</span><span style=color:#fff> </span>XMLStreamConstants<span style=color:#1f2328>.</span><span style=color:#1f2328>END_ELEMENT</span><span style=color:#1f2328>:</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>parser<span style=color:#1f2328>.</span><span style=color:#1f2328>getLocalName</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                        </span><span style=color:#cf222e>break</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#cf222e>case</span><span style=color:#fff> </span>XMLStreamConstants<span style=color:#1f2328>.</span><span style=color:#1f2328>CDATA</span><span style=color:#1f2328>:</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span>parser<span style=color:#1f2328>.</span><span style=color:#1f2328>getText</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                        </span><span style=color:#cf222e>break</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>parser<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>Exception<span style=color:#fff> </span>ex<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff> </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>ex<span style=color:#1f2328>);</span><span style=color:#fff> </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><h3 id=traitement-avec-modèle-en-arbre-dom>Traitement avec modèle en arbre (DOM)
<a class=anchor href=#traitement-avec-mod%c3%a8le-en-arbre-dom>#</a></h3><p>Le modèle DOM (Document Object Model) charge l&rsquo;intégralité du document XML en mémoire sous forme d&rsquo;arbre d&rsquo;objets, permettant une navigation et une manipulation faciles mais consommatrice de ressources.
Un document XML peut être vu comme un arbre. Le DOM charge tout le document en mémoire sous forme d&rsquo;objets.
Le DOM sera vu en détail la semaine prochaine.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;?xml version=&#34;1.0&#34; encoding=&#34;ISO-8859-1&#34; standalone=&#34;yes&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!DOCTYPE facture [...]&gt;</span>
</span></span><span style=display:flex><span><span style=color:#0550ae>&lt;facture&gt;&lt;montant&gt;</span>432<span style=color:#0550ae>&lt;/montant&gt;</span>
</span></span><span style=display:flex><span><span style=color:#0550ae>&lt;nom&gt;</span>Gérard Beauford<span style=color:#0550ae>&lt;/nom&gt;&lt;/facture&gt;</span>
</span></span></code></pre></div><p>Représentation en arbre :</p><pre tabindex=0><code> Document
 └─ facture
     ├─ montant → &#34;432&#34;
     └─ nom (surnom=&#34;Joe&#34;) → &#34;Gérard Beauford&#34;
</code></pre><h3 id=transformations-xslt>Transformations (XSLT)
<a class=anchor href=#transformations-xslt>#</a></h3><p>XSLT (eXtensible Stylesheet Language Transformations) est un langage de transformation XML qui permet de convertir des documents XML vers d&rsquo;autres formats comme HTML ou texte de manière déclarative.
XSLT est idéal pour les transformations simples (XML → HTML, XML → texte…). Pour des traitements complexes avec bases de données, il est insuffisant.</p><h3 id=xpath>XPath
<a class=anchor href=#xpath>#</a></h3><p>XPath est un langage d&rsquo;expression qui permet de naviguer et d&rsquo;extraire des données spécifiques dans un document XML de manière concise et puissante.
XPath permet d&rsquo;extraire très simplement des données depuis Java.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>javax.xml.parsers.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>javax.xml.xpath.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span>DocumentBuilder<span style=color:#fff> </span>builder<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>DocumentBuilderFactory<span style=color:#1f2328>.</span><span style=color:#1f2328>newInstance</span><span style=color:#1f2328>()</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>.</span><span style=color:#1f2328>newDocumentBuilder</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span>Document<span style=color:#fff> </span>doc<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>builder<span style=color:#1f2328>.</span><span style=color:#1f2328>parse</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;http://www.mondomaine.com/monfichier.xml&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span>XPath<span style=color:#fff> </span>xpath<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>XPathFactory<span style=color:#1f2328>.</span><span style=color:#1f2328>newInstance</span><span style=color:#1f2328>().</span><span style=color:#1f2328>newXPath</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span>String<span style=color:#fff> </span>title<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>xpath<span style=color:#1f2328>.</span><span style=color:#1f2328>evaluate</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;//nom/text()&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span>doc<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span></code></pre></div><h3 id=sérialization-java>Sérialization Java
<a class=anchor href=#s%c3%a9rialization-java>#</a></h3><p>La sérialisation en Java permet de convertir l&rsquo;état d&rsquo;un objet en un flux d&rsquo;octets, afin de le stocker (par exemple dans un fichier) ou de le transmettre sur un réseau. Le processus inverse, la désérialisation, recrée l&rsquo;objet à partir de ce flux. Ce mécanisme est particulièrement utile pour persister des données ou échanger des objets entre applications.</p><p>L&rsquo;interface centrale est <code>java.io.Serializable</code>, située dans le package <code>java.io</code>. Il s&rsquo;agit d&rsquo;une interface marqueur : elle ne contient aucune méthode ni champ à implémenter. Une classe devient sérialisable simplement en l&rsquo;implémentant. Toutes ses sous-classes héritent automatiquement de cette propriété. Si un objet référencé n&rsquo;implémente pas <code>Serializable</code>, une exception <code>NotSerializableException</code> est levée lors de la sérialisation.</p><p>Pour effectuer la sérialisation, on utilise <code>ObjectOutputStream</code> avec sa méthode <code>writeObject()</code>. Pour la désérialisation, <code>ObjectInputStream</code> et <code>readObject()</code>. Les champs statiques ne sont pas sérialisés, car ils appartiennent à la classe, pas à l&rsquo;instance. Les champs marqués <code>transient</code> sont exclus du processus ; ils reprennent leur valeur par défaut lors de la désérialisation.</p><p>Un aspect important est la gestion des versions avec <code>serialVersionUID</code>. Il s&rsquo;agit d&rsquo;un champ <code>private static final long</code> que l&rsquo;on déclare explicitement dans la classe. Sans cela, la JVM calcule une valeur par défaut basée sur la structure de la classe (méthodes, champs, etc.). Toute modification de la classe peut changer cette valeur, provoquant une <code>InvalidClassException</code> lors de la désérialisation d&rsquo;un ancien flux. Il est recommandé de toujours définir un <code>serialVersionUID</code> explicite pour assurer la compatibilité.</p><p>Pour un contrôle plus fin, on peut implémenter des méthodes privées comme <code>writeObject()</code> et <code>readObject()</code> pour personnaliser le processus, ou utiliser <code>Externalizable</code> pour une implémentation complète (avec <code>writeExternal()</code> et <code>readExternal()</code>).</p><p>Voici un exemple complet et fonctionnel de sérialisation/désérialisation en Java utilisant l&rsquo;interface Serializable. Le programme crée un objet, le sérialise dans un fichier, puis le désérialise et l&rsquo;affiche.</p><div class=java-inline><div id=java-runner-1767144224574738280><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/eclipse.min.css><style>#java-runner-1767144224574738280 .export-form textarea{width:100%;min-height:120px;font-family:monospace;border-radius:4px;border:1px solid #ccc}#java-runner-1767144224574738280 .export-form{margin-bottom:0}#java-runner-1767144224574738280 .export-result{background:#222;color:#eee;padding:12px;border-radius:6px;margin-top:16px;white-space:pre-wrap;font-family:monospace}#java-runner-1767144224574738280 .export-endpoint-info{color:#1976d2;font-size:.98em;margin-top:8px}#java-runner-1767144224574738280 .export-btn{background:#1976d2;color:#fff;border:none;border-radius:4px;padding:8px 16px;font-size:1em;cursor:pointer;margin-top:8px}#java-runner-1767144224574738280 .export-file-block{max-width:100%;flex:1 1 350px;background:#f9f9f9;border:1px solid #ddd;border-radius:6px;padding:12px;margin-bottom:8px}#java-runner-1767144224574738280 .export-file-block .export-file-name{font-weight:700;margin-bottom:4px}.cm-java-error{background:#ffe0e0!important;border-bottom:2px dotted #c00;cursor:pointer}.cm-java-error-line{background:#fff0f0!important}</style><form class="export-form java-runner-1767144224574738280-form" style=margin-bottom:0><input type=hidden class=export-endpoint-var value=https://flask-service-inf1220-java.90qakjuvfj4f8.ca-central-1.cs.amazonlightsail.com/run><div style=display:flex;gap:12px;flex-wrap:wrap><div class=export-file-block><div class=export-file-name>ExempleSerializable.java</div><textarea>
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;

class Personne implements Serializable {
    private static final long serialVersionUID = 1L;
    
    private String nom;
    private int age;
    private transient String motDePasse; // ne sera pas sérialisé
    
    public Personne(String nom, int age, String motDePasse) {
        this.nom = nom;
        this.age = age;
        this.motDePasse = motDePasse;
    }
    
    @Override
    public String toString() {
        return &#34;Personne{nom=&#39;&#34; &#43; nom &#43; &#34;&#39;, age=&#34; &#43; age &#43; &#34;, motDePasse=&#39;&#34; &#43; motDePasse &#43; &#34;&#39;}&#34;;
    }
}

public class ExempleSerializable {
    private static final String FICHIER = &#34;personne.ser&#34;;
    
    public static void main(String[] args) {
        // Sérialisation
        Personne originale = new Personne(&#34;Alice&#34;, 30, &#34;secret123&#34;);
        System.out.println(&#34;Objet original : &#34; &#43; originale);
        
        try (ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(FICHIER))) {
            oos.writeObject(originale);
            System.out.println(&#34;Sérialisation réussie dans &#34; &#43; FICHIER);
        } catch (Exception e) {
            e.printStackTrace();
        }
        
        // Désérialisation
        try (ObjectInputStream ois = new ObjectInputStream(new FileInputStream(FICHIER))) {
            Personne recuperee = (Personne) ois.readObject();
            System.out.println(&#34;Objet désérialisé : &#34; &#43; recuperee);
            // Note : motDePasse vaut null car il était transient
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
</textarea></div></div><button type=submit class="export-btn java-runner-1767144224574738280-btn" style="background:#1976d2;color:#fff;border:none;border-radius:4px;padding:8px 16px;font-size:1em;cursor:pointer;margin-top:8px">Exécuter</button></form><div class=export-result></div><div class=java-error-tooltip style="display:none;position:absolute;z-index:1000;background:#fff0f0;color:#c00;border:1px solid #c00;padding:6px 12px;border-radius:6px;font-size:1em;box-shadow:0 2px 8px #0002"></div><script src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/clike/clike.min.js></script><script>(function(){var t,n,s,o,e=document.getElementById("java-runner-1767144224574738280");if(!e)return;s=e.querySelector("form"),t=e.querySelector(".export-result"),o=s.querySelector(".export-endpoint-var").value,n=e.querySelector(".java-error-tooltip"),e.querySelectorAll(".export-file-block").forEach(function(e){var t,n,s=e.querySelector(".export-file-name").textContent,o=e.querySelector("textarea");s.endsWith(".java")&&(n=CodeMirror.fromTextArea(o,{mode:"text/x-java",theme:"eclipse",lineNumbers:!0,indentUnit:4,tabSize:4}),e._cm=n,e._javaErrorLines={},n.on("cursorActivity",function(){var s,o,t=e.querySelector(".java-error-status-bar");if(!t)return;s=n.getCursor(),o=e._javaErrorLines&&e._javaErrorLines[s.line],o?(t.textContent="Ligne "+(s.line+1)+" : "+o,t.style.visibility="visible"):(t.textContent="",t.style.visibility="hidden")})),s.endsWith(".java")&&(e.querySelector(".java-error-status-bar")||(t=document.createElement("div"),t.className="java-error-status-bar",t.style.marginTop="4px",t.style.fontSize="0.95em",t.style.color="#c00",t.style.minHeight="1.2em",t.style.visibility="hidden",e.appendChild(t)))});function i(e,t,s){n.textContent=e,n.style.display="block",n.style.left=t+10+"px",n.style.top=s+10+"px"}function a(){n.style.display="none"}s.onsubmit=function(n){n.preventDefault();var s,i,a,r,c=[],l=[];e.querySelectorAll(".export-file-block").forEach(function(e){var t=e.querySelector(".export-file-name").textContent,s=e.querySelector("textarea"),n=e._cm?e._cm.getValue():s.value;t.endsWith(".java")?c.push({name:t,content:n}):l.push({name:t,content:n})}),s=0,t.textContent="Exécution en cours",i=setInterval(function(){s=(s+1)%4,t.textContent="Exécution en cours"+".".repeat(s)},500),a=new AbortController,r=setTimeout(function(){a.abort()},3e4),fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({java_files:c,txt_files:l}),signal:a.signal}).then(function(e){if(clearInterval(i),clearTimeout(r),!e.ok&&e.status!==400)throw new Error("Erreur HTTP "+e.status+" : "+e.statusText);return e.text()}).then(function(n){try{s=JSON.parse(n);function o(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})}if(s.status==="ran_successfully"?t.innerHTML='<pre style="color:#222;background:#e0ffe0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(s.output||"")+o(s.stderr||"")+"</pre>":s.status==="compiling"?t.innerHTML='<pre style="color:#c00;background:#ffe0e0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(s.error||"")+o(s.stderr||"")+"</pre>":s.status==="runtime_error"?t.innerHTML='<pre style="color:#c00;background:#ffe0e0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(s.error||"")+o(s.stderr||"")+"</pre>":t.innerHTML='<pre style="color:#222;background:#f0f0f0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(n)+"</pre>",s.status==="compiling"){for(l=s.error||"",d=new RegExp(`([\\w./\\-]+\\.java):(\\d+): error: ([^\\n]+)([\\s\\S]*?)(?=\\n[\\w./\\-]+\\.java:|$)`,"g"),e.querySelectorAll(".export-file-block").forEach(function(e){e._cm&&e._cm.operation(function(){for(var n=e._cm.getAllMarks(),t=0;t<n.length;t++)n[t].clear()}),e._javaErrorLines={};var t=e.querySelector(".java-error-status-bar");t&&(t.textContent="",t.style.visibility="hidden")});(i=d.exec(l))!==null;){var s,i,l,d,r=i[1],h=i[2],m=i[3],u=i[4],a=parseInt(h,10)-1,c=(m+(u?u.replace(/\s+/g," "):"")).trim();e.querySelectorAll(".export-file-block").forEach(function(e){var t=e.querySelector(".export-file-name");t&&(t.textContent.trim()===r||t.textContent.trim().endsWith("/"+r)||t.textContent.trim().endsWith("\\"+r))&&(e._cm&&e._cm.operation(function(){e._cm.markText({line:a,ch:0},{line:a+1,ch:0},{className:"cm-java-error",title:c})}),e._javaErrorLines||(e._javaErrorLines={}),e._javaErrorLines[a]=c)})}e.querySelectorAll(".export-file-block").forEach(function(e){if(e._cm&&e._cm.getOption("lineNumbers")){var n,s,t=e.querySelector(".java-error-status-bar");t&&(n=e._cm.getCursor(),s=e._javaErrorLines&&e._javaErrorLines[n.line],s?(t.textContent="Ligne "+(n.line+1)+" : "+s,t.style.visibility="visible"):(t.textContent="",t.style.visibility="hidden"))}})}else e.querySelectorAll(".export-file-block").forEach(function(e){e._cm&&e._cm.operation(function(){for(var n=e._cm.getAllMarks(),t=0;t<n.length;t++)n[t].clear()}),e._javaErrorLines={};var t=e.querySelector(".java-error-status-bar");t&&(t.textContent="",t.style.visibility="hidden")})}catch(e){console.log(e),t.textContent=n}}).catch(function(e){clearInterval(i),clearTimeout(r),e.name==="AbortError"?t.textContent="Erreur : délai d’attente dépassé (30 secondes).":t.textContent="Erreur lors de la requête : "+e})},e.querySelectorAll(".export-file-block").forEach(function(e){var t=e._cm;if(!t)return;t.on("mouseover",function(t,n){var a,o=t.coordsChar({left:n.clientX,top:n.clientY}),s=o.line,c=o.ch,r=t.getCursor();s===r.line&&e._javaErrorLines&&e._javaErrorLines[s]&&(a=e._javaErrorLines[s],i(a,n.clientX,n.clientY))}),t.on("mouseout",function(){a()})})})()</script></div></div><h3 id=réflexion>Réflexion
<a class=anchor href=#r%c3%a9flexion>#</a></h3><p>La réflexion joue un rôle crucial dans les mécanismes de sérialisation et de désérialisation en Java, permettant un traitement générique et dynamique des objets sans nécessiter de code spécifique pour chaque classe. Par exemple, la sérialisation native de Java (via <code>java.io.Serializable</code>) utilise la réflexion pour inspecter automatiquement les champs d&rsquo;une classe, y compris les champs privés, et les écrire dans un flux binaire. Lors de la désérialisation, elle crée une instance vide de la classe (sans appeler de constructeur) et remplit les champs via la réflexion, en ignorant les validations potentielles des constructeurs.</p><p>Cette approche rend la sérialisation transparente.Des bibliothèques tierces comme Gson ou Jackson exploitent également la réflexion pour des formats comme JSON ou XML. Elles inspectent les champs (via <code>getDeclaredFields()</code>) ou les méthodes getter/setter, lisent ou écrivent leurs valeurs dynamiquement, et gèrent récursivement les objets imbriqués, les collections ou les types génériques.</p><p>Voici un exemple simple illustrant comment implémenter une sérialisation basique vers JSON en utilisant la réflexion. Considérons à nouveau la classe <code>Personne</code> :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>Personne</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>private</span><span style=color:#fff> </span>String<span style=color:#fff> </span>nom<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>private</span><span style=color:#fff> </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>age<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#6639ba>Personne</span><span style=color:#1f2328>(</span>String<span style=color:#fff> </span>nom<span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>age<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>nom</span><span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>nom<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>age</span><span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>age<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#57606a>// Getters pour l&#39;exemple</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span>String<span style=color:#fff> </span><span style=color:#6639ba>getNom</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff> </span><span style=color:#cf222e>return</span><span style=color:#fff> </span>nom<span style=color:#1f2328>;</span><span style=color:#fff> </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>int</span><span style=color:#fff> </span><span style=color:#6639ba>getAge</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff> </span><span style=color:#cf222e>return</span><span style=color:#fff> </span>age<span style=color:#1f2328>;</span><span style=color:#fff> </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#0550ae>@Override</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span>String<span style=color:#fff> </span><span style=color:#6639ba>toString</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>return</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;Personne{nom=&#39;&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>nom<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;&#39;, age=&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>age<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;}&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Une méthode de sérialisation personnalisée en JSON via réflexion pourrait ressembler à ceci (simplifiée, sans gestion des cycles ou des types complexes).</p><div class=java-inline><div id=java-runner-1767144224574813971><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/eclipse.min.css><style>#java-runner-1767144224574813971 .export-form textarea{width:100%;min-height:120px;font-family:monospace;border-radius:4px;border:1px solid #ccc}#java-runner-1767144224574813971 .export-form{margin-bottom:0}#java-runner-1767144224574813971 .export-result{background:#222;color:#eee;padding:12px;border-radius:6px;margin-top:16px;white-space:pre-wrap;font-family:monospace}#java-runner-1767144224574813971 .export-endpoint-info{color:#1976d2;font-size:.98em;margin-top:8px}#java-runner-1767144224574813971 .export-btn{background:#1976d2;color:#fff;border:none;border-radius:4px;padding:8px 16px;font-size:1em;cursor:pointer;margin-top:8px}#java-runner-1767144224574813971 .export-file-block{max-width:100%;flex:1 1 350px;background:#f9f9f9;border:1px solid #ddd;border-radius:6px;padding:12px;margin-bottom:8px}#java-runner-1767144224574813971 .export-file-block .export-file-name{font-weight:700;margin-bottom:4px}.cm-java-error{background:#ffe0e0!important;border-bottom:2px dotted #c00;cursor:pointer}.cm-java-error-line{background:#fff0f0!important}</style><form class="export-form java-runner-1767144224574813971-form" style=margin-bottom:0><input type=hidden class=export-endpoint-var value=https://flask-service-inf1220-java.90qakjuvfj4f8.ca-central-1.cs.amazonlightsail.com/run><div style=display:flex;gap:12px;flex-wrap:wrap><div class=export-file-block><div class=export-file-name>SimpleJsonSerializer.java</div><textarea>
import java.lang.reflect.Field;
import java.util.StringJoiner;

class Personne {
    private String nom;
    private int age;

    public Personne(String nom, int age) {
        this.nom = nom;
        this.age = age;
    }

    // Getters pour l&#39;exemple
    public String getNom() { return nom; }
    public int getAge() { return age; }

    @Override
    public String toString() {
        return &#34;Personne{nom=&#39;&#34; &#43; nom &#43; &#34;&#39;, age=&#34; &#43; age &#43; &#34;}&#34;;
    }
}

public class SimpleJsonSerializer {
    public static String serialize(Object obj) throws IllegalAccessException {
        Class&lt;?&gt; classe = obj.getClass();
        StringJoiner json = new StringJoiner(&#34;, &#34;, &#34;{&#34;, &#34;}&#34;);
        
        for (Field field : classe.getDeclaredFields()) {
            field.setAccessible(true); // Accès aux champs privés
            Object value = field.get(obj);
            String valueStr = value instanceof String ? &#34;\&#34;&#34; &#43; value &#43; &#34;\&#34;&#34; : String.valueOf(value);
            json.add(&#34;\&#34;&#34; &#43; field.getName() &#43; &#34;\&#34;: &#34; &#43; valueStr);
        }
        
        return json.toString();
    }

    public static void main(String[] args) throws Exception {
        Personne p = new Personne(&#34;Alice&#34;, 30);
        String json = serialize(p);
        System.out.println(json); // Affiche : {&#34;nom&#34;: &#34;Alice&#34;, &#34;age&#34;: 30}
    }
}
</textarea></div></div><button type=submit class="export-btn java-runner-1767144224574813971-btn" style="background:#1976d2;color:#fff;border:none;border-radius:4px;padding:8px 16px;font-size:1em;cursor:pointer;margin-top:8px">Exécuter</button></form><div class=export-result></div><div class=java-error-tooltip style="display:none;position:absolute;z-index:1000;background:#fff0f0;color:#c00;border:1px solid #c00;padding:6px 12px;border-radius:6px;font-size:1em;box-shadow:0 2px 8px #0002"></div><script src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/clike/clike.min.js></script><script>(function(){var t,n,s,o,e=document.getElementById("java-runner-1767144224574813971");if(!e)return;s=e.querySelector("form"),t=e.querySelector(".export-result"),o=s.querySelector(".export-endpoint-var").value,n=e.querySelector(".java-error-tooltip"),e.querySelectorAll(".export-file-block").forEach(function(e){var t,n,s=e.querySelector(".export-file-name").textContent,o=e.querySelector("textarea");s.endsWith(".java")&&(n=CodeMirror.fromTextArea(o,{mode:"text/x-java",theme:"eclipse",lineNumbers:!0,indentUnit:4,tabSize:4}),e._cm=n,e._javaErrorLines={},n.on("cursorActivity",function(){var s,o,t=e.querySelector(".java-error-status-bar");if(!t)return;s=n.getCursor(),o=e._javaErrorLines&&e._javaErrorLines[s.line],o?(t.textContent="Ligne "+(s.line+1)+" : "+o,t.style.visibility="visible"):(t.textContent="",t.style.visibility="hidden")})),s.endsWith(".java")&&(e.querySelector(".java-error-status-bar")||(t=document.createElement("div"),t.className="java-error-status-bar",t.style.marginTop="4px",t.style.fontSize="0.95em",t.style.color="#c00",t.style.minHeight="1.2em",t.style.visibility="hidden",e.appendChild(t)))});function i(e,t,s){n.textContent=e,n.style.display="block",n.style.left=t+10+"px",n.style.top=s+10+"px"}function a(){n.style.display="none"}s.onsubmit=function(n){n.preventDefault();var s,i,a,r,c=[],l=[];e.querySelectorAll(".export-file-block").forEach(function(e){var t=e.querySelector(".export-file-name").textContent,s=e.querySelector("textarea"),n=e._cm?e._cm.getValue():s.value;t.endsWith(".java")?c.push({name:t,content:n}):l.push({name:t,content:n})}),s=0,t.textContent="Exécution en cours",i=setInterval(function(){s=(s+1)%4,t.textContent="Exécution en cours"+".".repeat(s)},500),a=new AbortController,r=setTimeout(function(){a.abort()},3e4),fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({java_files:c,txt_files:l}),signal:a.signal}).then(function(e){if(clearInterval(i),clearTimeout(r),!e.ok&&e.status!==400)throw new Error("Erreur HTTP "+e.status+" : "+e.statusText);return e.text()}).then(function(n){try{s=JSON.parse(n);function o(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})}if(s.status==="ran_successfully"?t.innerHTML='<pre style="color:#222;background:#e0ffe0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(s.output||"")+o(s.stderr||"")+"</pre>":s.status==="compiling"?t.innerHTML='<pre style="color:#c00;background:#ffe0e0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(s.error||"")+o(s.stderr||"")+"</pre>":s.status==="runtime_error"?t.innerHTML='<pre style="color:#c00;background:#ffe0e0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(s.error||"")+o(s.stderr||"")+"</pre>":t.innerHTML='<pre style="color:#222;background:#f0f0f0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(n)+"</pre>",s.status==="compiling"){for(l=s.error||"",d=new RegExp(`([\\w./\\-]+\\.java):(\\d+): error: ([^\\n]+)([\\s\\S]*?)(?=\\n[\\w./\\-]+\\.java:|$)`,"g"),e.querySelectorAll(".export-file-block").forEach(function(e){e._cm&&e._cm.operation(function(){for(var n=e._cm.getAllMarks(),t=0;t<n.length;t++)n[t].clear()}),e._javaErrorLines={};var t=e.querySelector(".java-error-status-bar");t&&(t.textContent="",t.style.visibility="hidden")});(i=d.exec(l))!==null;){var s,i,l,d,r=i[1],h=i[2],m=i[3],u=i[4],a=parseInt(h,10)-1,c=(m+(u?u.replace(/\s+/g," "):"")).trim();e.querySelectorAll(".export-file-block").forEach(function(e){var t=e.querySelector(".export-file-name");t&&(t.textContent.trim()===r||t.textContent.trim().endsWith("/"+r)||t.textContent.trim().endsWith("\\"+r))&&(e._cm&&e._cm.operation(function(){e._cm.markText({line:a,ch:0},{line:a+1,ch:0},{className:"cm-java-error",title:c})}),e._javaErrorLines||(e._javaErrorLines={}),e._javaErrorLines[a]=c)})}e.querySelectorAll(".export-file-block").forEach(function(e){if(e._cm&&e._cm.getOption("lineNumbers")){var n,s,t=e.querySelector(".java-error-status-bar");t&&(n=e._cm.getCursor(),s=e._javaErrorLines&&e._javaErrorLines[n.line],s?(t.textContent="Ligne "+(n.line+1)+" : "+s,t.style.visibility="visible"):(t.textContent="",t.style.visibility="hidden"))}})}else e.querySelectorAll(".export-file-block").forEach(function(e){e._cm&&e._cm.operation(function(){for(var n=e._cm.getAllMarks(),t=0;t<n.length;t++)n[t].clear()}),e._javaErrorLines={};var t=e.querySelector(".java-error-status-bar");t&&(t.textContent="",t.style.visibility="hidden")})}catch(e){console.log(e),t.textContent=n}}).catch(function(e){clearInterval(i),clearTimeout(r),e.name==="AbortError"?t.textContent="Erreur : délai d’attente dépassé (30 secondes).":t.textContent="Erreur lors de la requête : "+e})},e.querySelectorAll(".export-file-block").forEach(function(e){var t=e._cm;if(!t)return;t.on("mouseover",function(t,n){var a,o=t.coordsChar({left:n.clientX,top:n.clientY}),s=o.line,c=o.ch,r=t.getCursor();s===r.line&&e._javaErrorLines&&e._javaErrorLines[s]&&(a=e._javaErrorLines[s],i(a,n.clientX,n.clientY))}),t.on("mouseout",function(){a()})})})()</script></div></div><p>Pour la désérialisation, on pourrait instancier la classe via réflexion (<code>classe.getDeclaredConstructor().newInstance()</code>), puis setter les valeurs des champs de la même manière. Des bibliothèques comme Jackson font cela de façon beaucoup plus robuste, en gérant les annotations (comme <code>@JsonProperty</code>) pour personnaliser le mapping. (Les annotations en Java sont des métadonnées prenant la forme <code>@...</code> que l&rsquo;on peut ajouter au code source pour fournir des informations supplémentaires au compilateur, aux outils de développement ou aux programmes exécutés à l&rsquo;exécution.
Vous pouvez même définir vos propres annotations.)</p><h3 id=traitement-par-abstraction>Traitement par abstraction
<a class=anchor href=#traitement-par-abstraction>#</a></h3><p>Le traitement par abstraction utilise des bibliothèques de haut niveau qui masquent la complexité du XML, permettant de travailler avec des objets métier sans se soucier du format de sérialisation.
De nombreuses bibliothèques (JAXB, bases de données, frameworks) manipulent du XML sans jamais vous forcer à écrire du XML à la main. Ils utilisent souvent
la réflexion.</p><h3 id=sérialisation-xml-java-beans>Sérialisation XML Java Beans
<a class=anchor href=#s%c3%a9rialisation-xml-java-beans>#</a></h3><p>La sérialisation XML d&rsquo;objet Java avec Bean permet de convertir des objets Java en XML et vice-versa, facilitant la persistance et l&rsquo;échange de données.
Prenez quelques secondes pour exécuter le programme suivant.</p><div class=java-inline><div id=java-runner-1767144224574862872><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/eclipse.min.css><style>#java-runner-1767144224574862872 .export-form textarea{width:100%;min-height:120px;font-family:monospace;border-radius:4px;border:1px solid #ccc}#java-runner-1767144224574862872 .export-form{margin-bottom:0}#java-runner-1767144224574862872 .export-result{background:#222;color:#eee;padding:12px;border-radius:6px;margin-top:16px;white-space:pre-wrap;font-family:monospace}#java-runner-1767144224574862872 .export-endpoint-info{color:#1976d2;font-size:.98em;margin-top:8px}#java-runner-1767144224574862872 .export-btn{background:#1976d2;color:#fff;border:none;border-radius:4px;padding:8px 16px;font-size:1em;cursor:pointer;margin-top:8px}#java-runner-1767144224574862872 .export-file-block{max-width:100%;flex:1 1 350px;background:#f9f9f9;border:1px solid #ddd;border-radius:6px;padding:12px;margin-bottom:8px}#java-runner-1767144224574862872 .export-file-block .export-file-name{font-weight:700;margin-bottom:4px}.cm-java-error{background:#ffe0e0!important;border-bottom:2px dotted #c00;cursor:pointer}.cm-java-error-line{background:#fff0f0!important}</style><form class="export-form java-runner-1767144224574862872-form" style=margin-bottom:0><input type=hidden class=export-endpoint-var value=https://flask-service-inf1220-java.90qakjuvfj4f8.ca-central-1.cs.amazonlightsail.com/run><div style=display:flex;gap:12px;flex-wrap:wrap><div class=export-file-block><div class=export-file-name>Serialization.java</div><textarea>
import java.beans.*;
import java.io.*;

public class Serialization {
    public static void main(String[] args) {
        try {
            String o = new String(&#34;Un objet java&#34;);
            File f = new File(&#34;test.xml&#34;);

            // Sérialisation en XML
            XMLEncoder e = new XMLEncoder(
                new BufferedOutputStream(new FileOutputStream(f)));
            e.writeObject(o);
            e.close();

            // Désérialisation
            XMLDecoder d = new XMLDecoder(
                new BufferedInputStream(new FileInputStream(f)));
            Object lu = d.readObject();
            d.close();

            // Affichage clair du résultat
            System.out.println(&#34;Objet original : &#34; &#43; o);
            System.out.println(&#34;Objet lu depuis le fichier XML : &#34; &#43; lu);
            System.out.println(&#34;Les deux objets sont égaux : &#34; &#43; lu.equals(o));
            System.out.println(&#34;Type de l&#39;objet lu : &#34; &#43; lu.getClass().getName());

        } catch (Exception ex) {
            System.err.println(&#34;Erreur lors de la sérialisation/désérialisation :&#34;);
            ex.printStackTrace();
        }
    }
}
</textarea></div></div><button type=submit class="export-btn java-runner-1767144224574862872-btn" style="background:#1976d2;color:#fff;border:none;border-radius:4px;padding:8px 16px;font-size:1em;cursor:pointer;margin-top:8px">Exécuter</button></form><div class=export-result></div><div class=java-error-tooltip style="display:none;position:absolute;z-index:1000;background:#fff0f0;color:#c00;border:1px solid #c00;padding:6px 12px;border-radius:6px;font-size:1em;box-shadow:0 2px 8px #0002"></div><script src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/clike/clike.min.js></script><script>(function(){var t,n,s,o,e=document.getElementById("java-runner-1767144224574862872");if(!e)return;s=e.querySelector("form"),t=e.querySelector(".export-result"),o=s.querySelector(".export-endpoint-var").value,n=e.querySelector(".java-error-tooltip"),e.querySelectorAll(".export-file-block").forEach(function(e){var t,n,s=e.querySelector(".export-file-name").textContent,o=e.querySelector("textarea");s.endsWith(".java")&&(n=CodeMirror.fromTextArea(o,{mode:"text/x-java",theme:"eclipse",lineNumbers:!0,indentUnit:4,tabSize:4}),e._cm=n,e._javaErrorLines={},n.on("cursorActivity",function(){var s,o,t=e.querySelector(".java-error-status-bar");if(!t)return;s=n.getCursor(),o=e._javaErrorLines&&e._javaErrorLines[s.line],o?(t.textContent="Ligne "+(s.line+1)+" : "+o,t.style.visibility="visible"):(t.textContent="",t.style.visibility="hidden")})),s.endsWith(".java")&&(e.querySelector(".java-error-status-bar")||(t=document.createElement("div"),t.className="java-error-status-bar",t.style.marginTop="4px",t.style.fontSize="0.95em",t.style.color="#c00",t.style.minHeight="1.2em",t.style.visibility="hidden",e.appendChild(t)))});function i(e,t,s){n.textContent=e,n.style.display="block",n.style.left=t+10+"px",n.style.top=s+10+"px"}function a(){n.style.display="none"}s.onsubmit=function(n){n.preventDefault();var s,i,a,r,c=[],l=[];e.querySelectorAll(".export-file-block").forEach(function(e){var t=e.querySelector(".export-file-name").textContent,s=e.querySelector("textarea"),n=e._cm?e._cm.getValue():s.value;t.endsWith(".java")?c.push({name:t,content:n}):l.push({name:t,content:n})}),s=0,t.textContent="Exécution en cours",i=setInterval(function(){s=(s+1)%4,t.textContent="Exécution en cours"+".".repeat(s)},500),a=new AbortController,r=setTimeout(function(){a.abort()},3e4),fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({java_files:c,txt_files:l}),signal:a.signal}).then(function(e){if(clearInterval(i),clearTimeout(r),!e.ok&&e.status!==400)throw new Error("Erreur HTTP "+e.status+" : "+e.statusText);return e.text()}).then(function(n){try{s=JSON.parse(n);function o(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})}if(s.status==="ran_successfully"?t.innerHTML='<pre style="color:#222;background:#e0ffe0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(s.output||"")+o(s.stderr||"")+"</pre>":s.status==="compiling"?t.innerHTML='<pre style="color:#c00;background:#ffe0e0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(s.error||"")+o(s.stderr||"")+"</pre>":s.status==="runtime_error"?t.innerHTML='<pre style="color:#c00;background:#ffe0e0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(s.error||"")+o(s.stderr||"")+"</pre>":t.innerHTML='<pre style="color:#222;background:#f0f0f0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(n)+"</pre>",s.status==="compiling"){for(l=s.error||"",d=new RegExp(`([\\w./\\-]+\\.java):(\\d+): error: ([^\\n]+)([\\s\\S]*?)(?=\\n[\\w./\\-]+\\.java:|$)`,"g"),e.querySelectorAll(".export-file-block").forEach(function(e){e._cm&&e._cm.operation(function(){for(var n=e._cm.getAllMarks(),t=0;t<n.length;t++)n[t].clear()}),e._javaErrorLines={};var t=e.querySelector(".java-error-status-bar");t&&(t.textContent="",t.style.visibility="hidden")});(i=d.exec(l))!==null;){var s,i,l,d,r=i[1],h=i[2],m=i[3],u=i[4],a=parseInt(h,10)-1,c=(m+(u?u.replace(/\s+/g," "):"")).trim();e.querySelectorAll(".export-file-block").forEach(function(e){var t=e.querySelector(".export-file-name");t&&(t.textContent.trim()===r||t.textContent.trim().endsWith("/"+r)||t.textContent.trim().endsWith("\\"+r))&&(e._cm&&e._cm.operation(function(){e._cm.markText({line:a,ch:0},{line:a+1,ch:0},{className:"cm-java-error",title:c})}),e._javaErrorLines||(e._javaErrorLines={}),e._javaErrorLines[a]=c)})}e.querySelectorAll(".export-file-block").forEach(function(e){if(e._cm&&e._cm.getOption("lineNumbers")){var n,s,t=e.querySelector(".java-error-status-bar");t&&(n=e._cm.getCursor(),s=e._javaErrorLines&&e._javaErrorLines[n.line],s?(t.textContent="Ligne "+(n.line+1)+" : "+s,t.style.visibility="visible"):(t.textContent="",t.style.visibility="hidden"))}})}else e.querySelectorAll(".export-file-block").forEach(function(e){e._cm&&e._cm.operation(function(){for(var n=e._cm.getAllMarks(),t=0;t<n.length;t++)n[t].clear()}),e._javaErrorLines={};var t=e.querySelector(".java-error-status-bar");t&&(t.textContent="",t.style.visibility="hidden")})}catch(e){console.log(e),t.textContent=n}}).catch(function(e){clearInterval(i),clearTimeout(r),e.name==="AbortError"?t.textContent="Erreur : délai d’attente dépassé (30 secondes).":t.textContent="Erreur lors de la requête : "+e})},e.querySelectorAll(".export-file-block").forEach(function(e){var t=e._cm;if(!t)return;t.on("mouseover",function(t,n){var a,o=t.coordsChar({left:n.clientX,top:n.clientY}),s=o.line,c=o.ch,r=t.getCursor();s===r.line&&e._javaErrorLines&&e._javaErrorLines[s]&&(a=e._javaErrorLines[s],i(a,n.clientX,n.clientY))}),t.on("mouseout",function(){a()})})})()</script></div></div><p>Ce programme montre un exemple simple de sérialisation et de désérialisation d’un objet Java en format XML à l’aide des classes XMLEncoder et XMLDecoder du package java.beans. Contrairement à la sérialisation binaire classique avec ObjectOutputStream, ces deux classes permettent de transformer des objets Java en un fichier XML lisible par un humain, puis de reconstruire l’objet à partir de ce fichier. Elles sont particulièrement pratiques pour sauvegarder l’état d’objets simples (String, collections, beans Java standards) de façon portable et modifiable manuellement.</p><p>Dans la méthode main, on commence par créer un objet simple : une instance de String contenant le texte &ldquo;Un objet java&rdquo;. Ensuite, on crée un fichier nommé &ldquo;test.xml&rdquo;. C’est dans ce fichier que l’objet sera sauvegardé au format XML. On utilise un XMLEncoder enveloppé dans un BufferedOutputStream et un FileOutputStream pour écrire efficacement les données. La méthode writeObject(o) déclenche la conversion de l’objet String en une représentation XML complète, puis e.close() ferme proprement le flux et écrit effectivement le contenu dans le fichier.</p><p>Immédiatement après la sérialisation, le programme passe à la désérialisation. On ouvre le même fichier &ldquo;test.xml&rdquo; en lecture avec un XMLDecoder, également entouré d’un BufferedInputStream pour optimiser les performances. L’appel à d.readObject() lit le premier (et ici unique) objet présent dans le XML et le reconstruit en mémoire sous forme d’objet Java. Comme le fichier a été généré par XMLEncoder, la reconstruction est parfaitement fidèle : on retrouve exactement le même String d’origine.</p><p>Pour vérifier que tout a fonctionné correctement, le programme affiche plusieurs informations : l’objet original, l’objet reconstitué, le résultat du test d’égalité avec equals() (qui renvoie true), et enfin le type réel de l’objet lu (java.lang.String). Cela prouve que non seulement la valeur est identique, mais que l’objet a bien été recréé avec son vrai type et non comme un type générique Object ou autre.</p><p>Enfin, tout le code est placé dans un bloc try-catch qui attrape n’importe quelle Exception (problème d’accès au fichier, erreur de parsing XML, etc.) et affiche la stack trace complète sur la sortie d’erreur. Cela rend le programme robuste et facile à déboguer. En exécutant ce code, vous obtiendrez un fichier test.xml contenant une représentation XML claire de la String, et vous verrez dans la console que l’objet a été parfaitement sauvegardé et restauré sans aucune perte d’information.</p><p>Cette approche ne fonctionne pas avec tout objet Java, et c’est une limitation importante de XMLEncoder/XMLDecoder.
Ces classes ne gèrent correctement que les objets dits « Java Beans » ou les types primitifs et leurs wrappers, les String, les collections standards (List, Map, Set…), les arrays, les Date, et quelques autres classes courantes du JDK. Pour qu’un objet soit sérialisable en XML avec ce mécanisme, il doit respecter les propriétés suivantes : il doit avoir un constructeur sans argument (constructor par défaut), ses propriétés doivent être accessibles via des getters et setters respectant la convention JavaBeans (getNom() / setNom() ou isNom() pour les boolean), et il ne doit pas contenir de références circulaires complexes ni de champs transient qui seraient ignorés.</p><p>En Java, les getters et setters sont des méthodes conventionnelles utilisées pour accéder et modifier les attributs privés d&rsquo;une classe, dans le cadre de l&rsquo;encapsulation, un principe fondamental de la programmation orientée objet. Un getter, souvent préfixé par &ldquo;get&rdquo;, permet de récupérer la valeur d&rsquo;un attribut sans exposer directement celui-ci, tandis qu&rsquo;un setter, préfixé par &ldquo;set&rdquo;, autorise la modification de cette valeur tout en pouvant inclure des validations ou des contrôles pour garantir l&rsquo;intégrité des données. Par exemple, considérons une classe simple représentant une personne.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>Personne</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>private</span><span style=color:#fff> </span>String<span style=color:#fff> </span>nom<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>private</span><span style=color:#fff> </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>age<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#57606a>// Getter pour nom</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span>String<span style=color:#fff> </span><span style=color:#6639ba>getNom</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>return</span><span style=color:#fff> </span>nom<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#57606a>// Setter pour nom</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>setNom</span><span style=color:#1f2328>(</span>String<span style=color:#fff> </span>nom<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>nom</span><span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>nom<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#57606a>// Getter pour age</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>int</span><span style=color:#fff> </span><span style=color:#6639ba>getAge</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>return</span><span style=color:#fff> </span>age<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#57606a>// Setter pour age avec validation</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>setAge</span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>age<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>age<span style=color:#fff> </span><span style=color:#0550ae>&gt;=</span><span style=color:#fff> </span>0<span style=color:#fff> </span><span style=color:#0550ae>&amp;&amp;</span><span style=color:#fff> </span>age<span style=color:#fff> </span><span style=color:#0550ae>&lt;=</span><span style=color:#fff> </span>150<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>age</span><span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>age<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>throw</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>IllegalArgumentException<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;L&#39;âge doit être entre 0 et 150&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Si vous essayez de sérialiser un objet personnalisé qui ne respecte pas ces règles (par exemple une classe sans constructeur vide, avec des champs private sans getters/setters, ou contenant des objets tiers comme une connexion JDBC, un Thread, un Socket, ou une classe du type java.awt.Component), XMLEncoder lèvera généralement une exception ou produira un XML incomplet, voire ignorera silencieusement certaines parties de l’objet.</p><p>De plus, XMLEncoder ne conserve pas l’identité des objets en cas de références partagées : chaque occurrence d’un même objet sera dupliquée lors de la désérialisation, contrairement à la sérialisation binaire classique qui préserve les références. Cela peut poser problème pour des structures de données complexes avec des graphes d’objets.</p><h3 id=services-web>Services web
<a class=anchor href=#services-web>#</a></h3><p>Les services web REST utilisent les méthodes HTTP standard pour exposer des ressources XML via des API web, permettant l&rsquo;interopérabilité entre différentes plateformes.</p><p>Les services web REST utilisent simplement HTTP (GET, POST, PUT, DELETE).</p><table><thead><tr><th>Méthode</th><th>Description</th></tr></thead><tbody><tr><td>GET</td><td>Récupérer une ressource (sûre et idempotente)</td></tr><tr><td>POST</td><td>Créer ou modifier (non idempotente)</td></tr><tr><td>PUT</td><td>Créer/remplacer une ressource à l&rsquo;URI donnée</td></tr><tr><td>DELETE</td><td>Supprimer une ressource</td></tr></tbody></table><p>Le programme Java suivant interroge le service de recherche SRU (Search/Retrieve via URL) de la Bibliothèque du Congrès américain pour récupérer l’enregistrement bibliographique MARC21 correspondant au titre exact « First Impressions of the New World ». Il construit une requête HTTP contenant les paramètres nécessaires (opération de recherche, version du protocole, critère de recherche sur le titre Dublin Core, limitation à un seul résultat et demande du format MARCXML), ouvre la connexion réseau, télécharge la réponse XML directement depuis l’URL, la parse en tenant compte des espaces de noms, puis utilise une expression XPath pour extraire précisément la chaîne du « leader » (les 24 premiers caractères de l’enregistrement MARC qui décrivent le type de document, son statut, sa longueur, etc.) et l’affiche dans la console. En résumé, il effectue une recherche catalographique distante et récupère un élément technique clé de la notice MARC correspondante.</p><div class=java-inline><div id=java-runner-1767144224575104582><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/eclipse.min.css><style>#java-runner-1767144224575104582 .export-form textarea{width:100%;min-height:120px;font-family:monospace;border-radius:4px;border:1px solid #ccc}#java-runner-1767144224575104582 .export-form{margin-bottom:0}#java-runner-1767144224575104582 .export-result{background:#222;color:#eee;padding:12px;border-radius:6px;margin-top:16px;white-space:pre-wrap;font-family:monospace}#java-runner-1767144224575104582 .export-endpoint-info{color:#1976d2;font-size:.98em;margin-top:8px}#java-runner-1767144224575104582 .export-btn{background:#1976d2;color:#fff;border:none;border-radius:4px;padding:8px 16px;font-size:1em;cursor:pointer;margin-top:8px}#java-runner-1767144224575104582 .export-file-block{max-width:100%;flex:1 1 350px;background:#f9f9f9;border:1px solid #ddd;border-radius:6px;padding:12px;margin-bottom:8px}#java-runner-1767144224575104582 .export-file-block .export-file-name{font-weight:700;margin-bottom:4px}.cm-java-error{background:#ffe0e0!important;border-bottom:2px dotted #c00;cursor:pointer}.cm-java-error-line{background:#fff0f0!important}</style><form class="export-form java-runner-1767144224575104582-form" style=margin-bottom:0><input type=hidden class=export-endpoint-var value=https://flask-service-inf1220-java.90qakjuvfj4f8.ca-central-1.cs.amazonlightsail.com/run><div style=display:flex;gap:12px;flex-wrap:wrap><div class=export-file-block><div class=export-file-name>Exemple.java</div><textarea>
import org.w3c.dom.Document;
import javax.xml.parsers.*;
import javax.xml.xpath.*;
import javax.xml.namespace.NamespaceContext;
import java.net.URL;
import java.util.Iterator;

public class Exemple {
    public static void main(String[] args) throws Exception {
        String base = &#34;http://z3950.loc.gov:7090/voyager?&#34;;
        String requete = &#34;operation=searchRetrieve&version=1.1&#34; &#43;
                         &#34;&query=(dc.title=%22First%20Impressions%20of%20the%20New%20World%22)&#34; &#43;
                         &#34;&maximumRecords=1&recordSchema=marcxml&#34;;

        String urlComplete = base &#43; requete;

        // Création du parseur XML avec prise en charge des espaces de noms
        DocumentBuilderFactory fabrique = DocumentBuilderFactory.newInstance();
        fabrique.setNamespaceAware(true); // Indispensable pour les réponses MARCXML/SRU
        Document document = fabrique.newDocumentBuilder().parse(new URL(urlComplete).openStream());

        XPath xpath = XPathFactory.newInstance().newXPath();

        // Définition de l&#39;espace de noms MARC21
        xpath.setNamespaceContext(new NamespaceContext() {
            @Override
            public String getNamespaceURI(String prefixe) {
                return &#34;marc&#34;.equals(prefixe) ? &#34;http://www.loc.gov/MARC21/slim&#34; : null;
            }

            @Override
            public String getPrefix(String uri) { return null; }

            @Override
            public Iterator&lt;String&gt; getPrefixes(String uri) { return null; }
        });

        // Extraction du leader MARC
        String leader = xpath.evaluate(&#34;//marc:leader/text()&#34;, document);

        System.out.println(&#34;Leader MARC : &#34; &#43; leader);
    }
}
</textarea></div></div><button type=submit class="export-btn java-runner-1767144224575104582-btn" style="background:#1976d2;color:#fff;border:none;border-radius:4px;padding:8px 16px;font-size:1em;cursor:pointer;margin-top:8px">Exécuter</button></form><div class=export-result></div><div class=java-error-tooltip style="display:none;position:absolute;z-index:1000;background:#fff0f0;color:#c00;border:1px solid #c00;padding:6px 12px;border-radius:6px;font-size:1em;box-shadow:0 2px 8px #0002"></div><script src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/clike/clike.min.js></script><script>(function(){var t,n,s,o,e=document.getElementById("java-runner-1767144224575104582");if(!e)return;s=e.querySelector("form"),t=e.querySelector(".export-result"),o=s.querySelector(".export-endpoint-var").value,n=e.querySelector(".java-error-tooltip"),e.querySelectorAll(".export-file-block").forEach(function(e){var t,n,s=e.querySelector(".export-file-name").textContent,o=e.querySelector("textarea");s.endsWith(".java")&&(n=CodeMirror.fromTextArea(o,{mode:"text/x-java",theme:"eclipse",lineNumbers:!0,indentUnit:4,tabSize:4}),e._cm=n,e._javaErrorLines={},n.on("cursorActivity",function(){var s,o,t=e.querySelector(".java-error-status-bar");if(!t)return;s=n.getCursor(),o=e._javaErrorLines&&e._javaErrorLines[s.line],o?(t.textContent="Ligne "+(s.line+1)+" : "+o,t.style.visibility="visible"):(t.textContent="",t.style.visibility="hidden")})),s.endsWith(".java")&&(e.querySelector(".java-error-status-bar")||(t=document.createElement("div"),t.className="java-error-status-bar",t.style.marginTop="4px",t.style.fontSize="0.95em",t.style.color="#c00",t.style.minHeight="1.2em",t.style.visibility="hidden",e.appendChild(t)))});function i(e,t,s){n.textContent=e,n.style.display="block",n.style.left=t+10+"px",n.style.top=s+10+"px"}function a(){n.style.display="none"}s.onsubmit=function(n){n.preventDefault();var s,i,a,r,c=[],l=[];e.querySelectorAll(".export-file-block").forEach(function(e){var t=e.querySelector(".export-file-name").textContent,s=e.querySelector("textarea"),n=e._cm?e._cm.getValue():s.value;t.endsWith(".java")?c.push({name:t,content:n}):l.push({name:t,content:n})}),s=0,t.textContent="Exécution en cours",i=setInterval(function(){s=(s+1)%4,t.textContent="Exécution en cours"+".".repeat(s)},500),a=new AbortController,r=setTimeout(function(){a.abort()},3e4),fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({java_files:c,txt_files:l}),signal:a.signal}).then(function(e){if(clearInterval(i),clearTimeout(r),!e.ok&&e.status!==400)throw new Error("Erreur HTTP "+e.status+" : "+e.statusText);return e.text()}).then(function(n){try{s=JSON.parse(n);function o(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})}if(s.status==="ran_successfully"?t.innerHTML='<pre style="color:#222;background:#e0ffe0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(s.output||"")+o(s.stderr||"")+"</pre>":s.status==="compiling"?t.innerHTML='<pre style="color:#c00;background:#ffe0e0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(s.error||"")+o(s.stderr||"")+"</pre>":s.status==="runtime_error"?t.innerHTML='<pre style="color:#c00;background:#ffe0e0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(s.error||"")+o(s.stderr||"")+"</pre>":t.innerHTML='<pre style="color:#222;background:#f0f0f0;padding:12px;border-radius:6px;white-space:pre-wrap;">'+o(n)+"</pre>",s.status==="compiling"){for(l=s.error||"",d=new RegExp(`([\\w./\\-]+\\.java):(\\d+): error: ([^\\n]+)([\\s\\S]*?)(?=\\n[\\w./\\-]+\\.java:|$)`,"g"),e.querySelectorAll(".export-file-block").forEach(function(e){e._cm&&e._cm.operation(function(){for(var n=e._cm.getAllMarks(),t=0;t<n.length;t++)n[t].clear()}),e._javaErrorLines={};var t=e.querySelector(".java-error-status-bar");t&&(t.textContent="",t.style.visibility="hidden")});(i=d.exec(l))!==null;){var s,i,l,d,r=i[1],h=i[2],m=i[3],u=i[4],a=parseInt(h,10)-1,c=(m+(u?u.replace(/\s+/g," "):"")).trim();e.querySelectorAll(".export-file-block").forEach(function(e){var t=e.querySelector(".export-file-name");t&&(t.textContent.trim()===r||t.textContent.trim().endsWith("/"+r)||t.textContent.trim().endsWith("\\"+r))&&(e._cm&&e._cm.operation(function(){e._cm.markText({line:a,ch:0},{line:a+1,ch:0},{className:"cm-java-error",title:c})}),e._javaErrorLines||(e._javaErrorLines={}),e._javaErrorLines[a]=c)})}e.querySelectorAll(".export-file-block").forEach(function(e){if(e._cm&&e._cm.getOption("lineNumbers")){var n,s,t=e.querySelector(".java-error-status-bar");t&&(n=e._cm.getCursor(),s=e._javaErrorLines&&e._javaErrorLines[n.line],s?(t.textContent="Ligne "+(n.line+1)+" : "+s,t.style.visibility="visible"):(t.textContent="",t.style.visibility="hidden"))}})}else e.querySelectorAll(".export-file-block").forEach(function(e){e._cm&&e._cm.operation(function(){for(var n=e._cm.getAllMarks(),t=0;t<n.length;t++)n[t].clear()}),e._javaErrorLines={};var t=e.querySelector(".java-error-status-bar");t&&(t.textContent="",t.style.visibility="hidden")})}catch(e){console.log(e),t.textContent=n}}).catch(function(e){clearInterval(i),clearTimeout(r),e.name==="AbortError"?t.textContent="Erreur : délai d’attente dépassé (30 secondes).":t.textContent="Erreur lors de la requête : "+e})},e.querySelectorAll(".export-file-block").forEach(function(e){var t=e._cm;if(!t)return;t.on("mouseover",function(t,n){var a,o=t.coordsChar({left:n.clientX,top:n.clientY}),s=o.line,c=o.ch,r=t.getCursor();s===r.line&&e._javaErrorLines&&e._javaErrorLines[s]&&(a=e._javaErrorLines[s],i(a,n.clientX,n.clientY))}),t.on("mouseout",function(){a()})})})()</script></div></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#traitement-du-xml-comme-du-texte>Traitement du XML comme du texte</a></li><li><a href=#traitement-événementiel>Traitement événementiel</a></li><li><a href=#traitement-avec-itérateurs-stax>Traitement avec itérateurs (StAX)</a></li><li><a href=#traitement-avec-modèle-en-arbre-dom>Traitement avec modèle en arbre (DOM)</a></li><li><a href=#transformations-xslt>Transformations (XSLT)</a></li><li><a href=#xpath>XPath</a></li><li><a href=#sérialization-java>Sérialization Java</a></li><li><a href=#réflexion>Réflexion</a></li><li><a href=#traitement-par-abstraction>Traitement par abstraction</a></li><li><a href=#sérialisation-xml-java-beans>Sérialisation XML Java Beans</a></li><li><a href=#services-web>Services web</a></li></ul></li></ul></nav></div></aside></main></body></html>