<!doctype html><html lang=fr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  Chargement XML/JSON en JavaScript
  #

La programmation asynchrone permet d&rsquo;exécuter des tâches en arrière-plan sans bloquer l&rsquo;exécution du programme principal. Contrairement à la programmation synchrone où les opérations se déroulent séquentiellement (une après l&rsquo;autre), l&rsquo;asynchrone permet de lancer une opération longue, comme une requête réseau ou la lecture d&rsquo;un fichier, et de continuer à exécuter d&rsquo;autres tâches pendant que cette opération se déroule. Lorsque l&rsquo;opération asynchrone se termine, un mécanisme de notification (callback, Promise, ou async/await) permet de traiter le résultat sans interrompre le flux principal du programme."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://lemire.github.io/orientee_donnees/docs/modules/e_module_services/asynchronous_javascript_and_xml_ajax/"><meta property="og:site_name" content="Programmation orientée-données"><meta property="og:title" content="Chargement XML/JSON en JavaScript"><meta property="og:description" content="Chargement XML/JSON en JavaScript # La programmation asynchrone permet d’exécuter des tâches en arrière-plan sans bloquer l’exécution du programme principal. Contrairement à la programmation synchrone où les opérations se déroulent séquentiellement (une après l’autre), l’asynchrone permet de lancer une opération longue, comme une requête réseau ou la lecture d’un fichier, et de continuer à exécuter d’autres tâches pendant que cette opération se déroule. Lorsque l’opération asynchrone se termine, un mécanisme de notification (callback, Promise, ou async/await) permet de traiter le résultat sans interrompre le flux principal du programme."><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="docs"><title>Chargement XML/JSON en JavaScript | Programmation orientée-données</title><link rel=icon href=/orientee_donnees/favicon.png><link rel=manifest href=/orientee_donnees/manifest.json><link rel=canonical href=https://lemire.github.io/orientee_donnees/docs/modules/e_module_services/asynchronous_javascript_and_xml_ajax/><link rel=stylesheet href=/orientee_donnees/book.min.a006656c8516e75b9916bf87553cdae09b7d022a0ef8c51fcafcb935e4e3d410.css integrity="sha256-oAZlbIUW51uZFr+HVTza4Jt9AioO+MUfyvy5NeTj1BA=" crossorigin=anonymous><script defer src=/orientee_donnees/fuse.min.js></script><script defer src=/orientee_donnees/fr.search.min.ff61e5e675d653a1c97b36cdc4ce8795fa122062962b23a328519ecf4ec927ce.js integrity="sha256-/2Hl5nXWU6HJezbNxM6HlfoSIGKWKyOjKFGez07JJ84=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/orientee_donnees/><img src=/orientee_donnees/favicon.png alt=Logo class=book-icon><span>Programmation orientée-données</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Rechercher aria-label=Rechercher maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/orientee_donnees/docs/modules/>Modules</a><ul><li><input type=checkbox id=section-e0cc4658cb7e0b0785f48bc734a0d868 class=toggle>
<label for=section-e0cc4658cb7e0b0785f48bc734a0d868 class=flex><a href=/orientee_donnees/docs/modules/a_module_json/ class=flex-auto>Module JSON</a></label><ul><li><a href=/orientee_donnees/docs/modules/a_module_json/json/>JSON</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/geojson/>GeoJSON</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/markdown/>MarkDown</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/javascript/>JavaScript et JSON</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/jq/>Activité avec jq</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/gjson/>Google Gson</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/encodage_des_caracteres_unicode/>Encodage des caractères Unicode</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-5dba5cff8314754d322613989dda2ee4 class=toggle>
<label for=section-5dba5cff8314754d322613989dda2ee4 class=flex><a href=/orientee_donnees/docs/modules/b_module_xml/ class=flex-auto>Module XML</a></label><ul><li><input type=checkbox id=section-b0f20b451fe2916a31453d5cbda26a99 class=toggle>
<label for=section-b0f20b451fe2916a31453d5cbda26a99 class=flex><a role=button class=flex-auto>Les fondements</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/introduction_a_xml/>Introduction à XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/principes_du_xml/>Principes du XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/creer_un_fichier_xml/>Créer un fichier XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/mise_en_forme_du_xml/>Mise en forme du XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/laboratoire_sur_la_structure_en_arbre_des_documents_xml/>Laboratoire sur la structure en arbre des documents XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/labo/>Vérificateur de XML bien formé</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/autoevaluation/>Autoévaluation XML</a></li></ul></li><li><input type=checkbox id=section-344b47eee8a14c6b3ccb143c1f5bf702 class=toggle>
<label for=section-344b47eee8a14c6b3ccb143c1f5bf702 class=flex><a role=button class=flex-auto>Validation</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/definition_de_type_de_document/>Définition de type de document</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/validation_de_documents_xml/>Validation de documents XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/autoevaluation_dtd/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-d96b044d241e9b77e9c0592b528dc057 class=toggle>
<label for=section-d96b044d241e9b77e9c0592b528dc057 class=flex><a role=button class=flex-auto>Espaces de nom</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/espaces/espace_de_nom/>Espace de noms</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/espaces/autoevaluation_adv/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-7677844365e3481ee5b7c1ca5bb4c38f class=toggle>
<label for=section-7677844365e3481ee5b7c1ca5bb4c38f class=flex><a role=button class=flex-auto>Exemples</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/le_fichier_pomxml_en_java/>Le fichier pom.xml en Java</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/le_fichier_sitemapxml/>Le fichier sitemap.xml</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/les_fichiers_csproj_en_c/>Les fichiers csproj en C#</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/rss/>Les formats RSS et Atom</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/three/>X3D</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/le_fichier_androidmanifestxml/>Le fichier AndroidManifest.xml</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/docx_microsoft_word/>Office Open XML</a></li></ul></li><li><input type=checkbox id=section-3414f79d7e98c78ad1d3dbda25a1f55a class=toggle>
<label for=section-3414f79d7e98c78ad1d3dbda25a1f55a class=flex><a role=button class=flex-auto>RDF</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/introduction_au_rdf/>Introduction au RDF</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/applications_du_rdf/>Applications du RDF</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/autoevaluation_rdf/>Autoévaluation</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/sparql/>Activité SPARQL</a></li></ul></li><li><input type=checkbox id=section-fb1c5b6035fd6d3caf7148dac6057b07 class=toggle>
<label for=section-fb1c5b6035fd6d3caf7148dac6057b07 class=flex><a role=button class=flex-auto>Modèles de programmation</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/dom/>DOM</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/javascript/>JavaScript et DOM</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/autoevaluation/>Autoévaluation DOM</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/jackson/>Activité JSON/XML avec Jackson</a></li></ul></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-5d65d8b100e58c6d134cd4da58e1cd2c class=toggle>
<label for=section-5d65d8b100e58c6d134cd4da58e1cd2c class=flex><a href=/orientee_donnees/docs/modules/c_module_xslt/ class=flex-auto>Module XPath, XSLT, XQuery</a></label><ul><li><input type=checkbox id=section-7ac06c5c6cb170ae259ae8aaa0f2fa28 class=toggle>
<label for=section-7ac06c5c6cb170ae259ae8aaa0f2fa28 class=flex><a role=button class=flex-auto>XPath</a></label><ul><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_un_premier_laboratoire/>XPath : un premier laboratoire</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_approfondissement/>XPath : approfondissement</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_en_ligne_java/>XPath avec Java</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_second_laboratoire/>XPath : second laboratoire</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/autoevaluation_xpath/>Autoévaluation</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_20_et_30/>XPath 2.0 et 3.0</a></li></ul></li><li><input type=checkbox id=section-f547d6e3d6ea0eaec3e702c4dfd2c47e class=toggle>
<label for=section-f547d6e3d6ea0eaec3e702c4dfd2c47e class=flex><a role=button class=flex-auto>XSLT</a></label><ul><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/introduction_au_xslt/>Introduction au XSLT</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_en_ligne/>XSLT en ligne</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_en_ligne_java/>XSLT avec Java</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/un_peu_plus_de_xslt_fonctionnement_de_base_template_et_value-of/>Un peu plus de XSLT : fonctionnement de base, template et value-of</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_valeurs_dattribut/>Les valeurs d’attribut</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_modulaire/>XSLT modulaire</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_noms_delements/>Les noms d’éléments</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/attribut_mode/>Attribut mode</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/la_fonction_generate-id/>La fonction generate-id</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_tests/>Les tests</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_boucles/>Les boucles</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/cles_et_aggregation/>Clés et aggrégation</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/generer_des_noeuds_dynamiquement/>Générer des noeuds dynamiquement</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/variables_et_parametres/>Variables et paramètres</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/mise_en_forme/>Mise en forme</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/espaces_de_noms/>Espaces de noms</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_axes/>Les axes</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/etude_dun_exemple_docbook/>Étude d’un exemple (DocBook)</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/laboratoire_xslt/>Laboratoire XSLT</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/laboratoire_xslt_avec_python_optionnel/>Laboratoire XSLT avec Python (optionnel)</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_20_et_30/>XSLT 2.0 et 3.0</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/autoevaluation_xslt/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-b3c85205c7eb5b729c0be10ddbd24290 class=toggle>
<label for=section-b3c85205c7eb5b729c0be10ddbd24290 class=flex><a role=button class=flex-auto>XQuery</a></label><ul><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xquery/xquery/>XQuery</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xquery/laboratoire_xquery_avec_python_optionnel/>Laboratoire XQuery avec Python (optionnel)</a></li></ul></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-2a04c3a72cdb954ae36ef63df297319a class=toggle>
<label for=section-2a04c3a72cdb954ae36ef63df297319a class=flex><a href=/orientee_donnees/docs/modules/d_module_html/ class=flex-auto>Module HTML, CSS, SVG, MathML</a></label><ul><li><a href=/orientee_donnees/docs/modules/d_module_html/xhtml/>XHTML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/html_5/>HTML 5</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/autoevaluation/>Autoévaluation HTML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/css/>CSS</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/css2/>CSS (partie 2)</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/css3/>CSS (partie 3)</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/laboratoire_css/>Laboratoire CSS</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/svg/>SVG</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/mathml/>MathML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/cssmathml/>Laboratoire CSS/MathML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/autoevaluation_css/>Autoévaluation CSS</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-d04fad4b07d7c0c5b266f3694fc3c8af class=toggle checked>
<label for=section-d04fad4b07d7c0c5b266f3694fc3c8af class=flex><a href=/orientee_donnees/docs/modules/e_module_services/ class=flex-auto>Module Services et YAML</a></label><ul><li><a href=/orientee_donnees/docs/modules/e_module_services/serveurweb/>Serveur Web Java</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/base64/>Base64</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/asynchronous_javascript_and_xml_ajax/ class=active>Chargement XML/JSON en JavaScript</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/introservicesweb/>Introduction aux services web</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/serviceweb/>Création d'un service web</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/yaml/>YAML</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/travail/>Travail noté</a></li></ul></li></ul></li><li><input type=checkbox id=section-bfca035f077c4a3a8e327bb4e5d9433e class=toggle>
<label for=section-bfca035f077c4a3a8e327bb4e5d9433e class=flex><a role=button class=flex-auto>Contenu suppplémentaire</a></label><ul><li><a href=/orientee_donnees/docs/extra/glossaire/>Glossaire</a></li><li><a href=/orientee_donnees/docs/extra/pense-bete_xml/>Pense-bête XML</a></li><li><a href=/orientee_donnees/docs/extra/pense-bete_json/>Pense-bête JSON</a></li><li><a href=/orientee_donnees/docs/extra/pense-bete_yaml/>Pense-bête YAML</a></li><li><a href=/orientee_donnees/docs/extra/professeur/>Professeur</a></li></ul></li><li><a href=/orientee_donnees/docs/travail_integration/>Travail d'intégration</a></li><li><a href=/orientee_donnees/docs/evaluation/>Évaluation et feuille de route</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/orientee_donnees/svg/menu.svg class=book-icon alt=Menu></label><h3>Chargement XML/JSON en JavaScript</h3><label for=toc-control><img src=/orientee_donnees/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#asynchronous-javascript-and-xml-ajax>Asynchronous JavaScript And XML (AJAX)</a></li><li><a href=#exemple-simple--charger-et-afficher-le-titre-dun-document-xhtml>Exemple simple : charger et afficher le titre d’un document XHTML</a></li><li><a href=#exemple-avancé--afficher-les-titres-dun-flux-rss-le-devoir>Exemple avancé : afficher les titres d’un flux RSS (Le Devoir)</a></li><li><a href=#utiliser-importnode-pour-insérer-tout-un-fragment-xml>Utiliser importNode() pour insérer tout un fragment XML</a></li><li><a href=#chargement-de-fichiers-locaux-chrome-edge-etc>Chargement de fichiers locaux (Chrome, Edge, etc.)</a></li><li><a href=#json>JSON</a><ul><li><a href=#fonction-daffichage-des-données>Fonction d&rsquo;affichage des données</a></li><li><a href=#exemple-complet-avec-json>Exemple complet avec JSON</a></li></ul></li><li><a href=#trucs-pour-le-développement-javascript-dans-un-navigateur>Trucs pour le développement JavaScript dans un navigateur</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=chargement-xmljson-en-javascript>Chargement XML/JSON en JavaScript
<a class=anchor href=#chargement-xmljson-en-javascript>#</a></h1><p>La programmation asynchrone permet d&rsquo;exécuter des tâches en arrière-plan sans bloquer l&rsquo;exécution du programme principal. Contrairement à la programmation synchrone où les opérations se déroulent séquentiellement (une après l&rsquo;autre), l&rsquo;asynchrone permet de lancer une opération longue, comme une requête réseau ou la lecture d&rsquo;un fichier, et de continuer à exécuter d&rsquo;autres tâches pendant que cette opération se déroule. Lorsque l&rsquo;opération asynchrone se termine, un mécanisme de notification (callback, Promise, ou async/await) permet de traiter le résultat sans interrompre le flux principal du programme.</p><p>En JavaScript, il n&rsquo;y a qu&rsquo;un fil d&rsquo;exécution. Si une fonction devait attendre la réponse d&rsquo;un
serveur d&rsquo;une manière synchrone, aucune autre opération JavaScript ne serait possible. Au lieu
de cela, nous préférons une exécution asynchrone.</p><p>Une Promise est un objet en JavaScript qui représente la complétion (ou l&rsquo;échec) éventuelle d&rsquo;une opération asynchrone et sa valeur résultante. Elle agit comme un proxy pour une valeur qui n&rsquo;est pas nécessairement connue au moment de sa création. Une Promise peut être dans l&rsquo;un des trois états : en attente (pending), résolue (fulfilled) avec une valeur, ou rejetée (rejected) avec une raison d&rsquo;erreur.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#cf222e>const</span> <span style=color:#1f2328>maPromise</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>new</span> <span style=color:#6639ba>Promise</span><span style=color:#1f2328>((</span><span style=color:#1f2328>resolve</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>reject</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>=&gt;</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#57606a>// Opération asynchrone
</span></span></span><span style=display:flex><span>    <span style=color:#1f2328>setTimeout</span><span style=color:#1f2328>(()</span> <span style=color:#1f2328>=&gt;</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#6639ba>Math</span><span style=color:#1f2328>.</span><span style=color:#1f2328>random</span><span style=color:#1f2328>()</span> <span style=color:#0550ae>&gt;</span> <span style=color:#0550ae>0.5</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>            <span style=color:#1f2328>resolve</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Succès !&#34;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>}</span> <span style=color:#cf222e>else</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>            <span style=color:#1f2328>reject</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur !&#34;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>},</span> <span style=color:#0550ae>1000</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>});</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#1f2328>maPromise</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>.</span><span style=color:#1f2328>then</span><span style=color:#1f2328>(</span><span style=color:#1f2328>resultat</span> <span style=color:#1f2328>=&gt;</span> <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>log</span><span style=color:#1f2328>(</span><span style=color:#1f2328>resultat</span><span style=color:#1f2328>))</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>.</span><span style=color:#cf222e>catch</span><span style=color:#1f2328>(</span><span style=color:#1f2328>erreur</span> <span style=color:#1f2328>=&gt;</span> <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>error</span><span style=color:#1f2328>(</span><span style=color:#1f2328>erreur</span><span style=color:#1f2328>));</span>
</span></span></code></pre></div><p>Les Promises permettent de gérer les opérations asynchrones de manière plus élégante que les callbacks traditionnels. Elles peuvent être chaînées avec <code>.then()</code> pour traiter les résultats successifs, et <code>.catch()</code> pour gérer les erreurs. Les Promises sont la base d&rsquo;APIs modernes comme <code>fetch()</code>, et elles sont essentielles pour comprendre <code>async</code>/<code>await</code> qui en est un sucre syntaxique.</p><p>En JavaScript, le mot-clé <code>async</code> devant une fonction indique qu&rsquo;elle retourne une Promise. Le mot-clé <code>await</code> est utilisé à l&rsquo;intérieur d&rsquo;une fonction <code>async</code> pour attendre la résolution d&rsquo;une Promise.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#cf222e>async</span> <span style=color:#cf222e>function</span> <span style=color:#1f2328>maFonction</span><span style=color:#1f2328>()</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>const</span> <span style=color:#1f2328>resultat</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>await</span> <span style=color:#1f2328>unePromise</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>return</span> <span style=color:#1f2328>resultat</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></div><p>Un fonction <code>async</code> ne bloque pas l&rsquo;exécution du JavaScript dans la page. Elle est asynchrone.</p><p>Cela permet d&rsquo;écrire du code asynchrone de manière synchrone, facilitant la lecture et la gestion des erreurs. Sans <code>async</code>/<code>await</code>, il faudrait utiliser des callbacks ou chaîner des <code>.then()</code>, ce qui peut rapidement devenir complexe et difficile à déboguer. L&rsquo;avantage principal est que le code ressemble à du code synchrone tout en restant non-bloquant, améliorant considérablement la lisibilité et la maintenabilité des applications JavaScript modernes.</p><p>L&rsquo;API <code>fetch()</code> est l&rsquo;API moderne pour effectuer des requêtes HTTP en JavaScript.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#1f2328>fetch</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;https://api.example.com/data&#39;</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>.</span><span style=color:#1f2328>then</span><span style=color:#1f2328>(</span><span style=color:#1f2328>response</span> <span style=color:#1f2328>=&gt;</span> <span style=color:#1f2328>response</span><span style=color:#1f2328>.</span><span style=color:#1f2328>json</span><span style=color:#1f2328>())</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>.</span><span style=color:#1f2328>then</span><span style=color:#1f2328>(</span><span style=color:#1f2328>data</span> <span style=color:#1f2328>=&gt;</span> <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>log</span><span style=color:#1f2328>(</span><span style=color:#1f2328>data</span><span style=color:#1f2328>))</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>.</span><span style=color:#cf222e>catch</span><span style=color:#1f2328>(</span><span style=color:#1f2328>error</span> <span style=color:#1f2328>=&gt;</span> <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>error</span><span style=color:#1f2328>(</span><span style=color:#1f2328>error</span><span style=color:#1f2328>));</span>
</span></span></code></pre></div><p><code>fetch()</code> retourne un objet <code>Promise</code> qui résout en un objet <code>Response</code>. Cet objet <code>Response</code> contient des méthodes pour accéder au corps de la réponse (<code>text()</code>, <code>json()</code>, <code>blob()</code>, etc.) et des propriétés comme <code>status</code> (code HTTP), <code>ok</code> (booléen indiquant si la requête a réussi), et <code>headers</code> (les en-têtes HTTP).</p><p>Une expression comme <code>const response = await fetch(uri);</code> effectue une requête HTTP asynchrone vers l&rsquo;URI spécifiée. <code>fetch(uri)</code> envoie une requête GET par défaut et retourne immédiatement une Promise. Le mot-clé <code>await</code> met en pause l&rsquo;exécution de la fonction jusqu&rsquo;à ce que cette Promise se résolve, c&rsquo;est-à-dire jusqu&rsquo;à ce que la réponse HTTP soit reçue du serveur.</p><p>La variable <code>response</code> contient alors un objet <code>Response</code> qui encapsule la réponse HTTP complète : le code de statut (200, 404, etc.), les en-têtes, et le corps de la réponse. Cet objet fournit des méthodes comme <code>response.ok</code> (booléen indiquant le succès), <code>response.status</code> (code numérique), et <code>response.text()</code> ou <code>response.json()</code> pour accéder au contenu.</p><h2 id=asynchronous-javascript-and-xml-ajax>Asynchronous JavaScript And XML (AJAX)
<a class=anchor href=#asynchronous-javascript-and-xml-ajax>#</a></h2><p>Normalement, pour récupérer des données sur le serveur (description d’un produit, horaire, etc.), il faut recharger une nouvelle page. Avec <strong>AJAX</strong> (<em>Asynchronous JavaScript And XML</em>), un script JavaScript peut charger un fichier XML (ou JSON) en arrière-plan, sans recharger la page. L’utilisateur a l’impression que l’application est beaucoup plus rapide.</p><p>Exemples célèbres : Gmail, Google Maps, Facebook (à l’époque), etc.</p><h2 id=exemple-simple--charger-et-afficher-le-titre-dun-document-xhtml>Exemple simple : charger et afficher le titre d’un document XHTML
<a class=anchor href=#exemple-simple--charger-et-afficher-le-titre-dun-document-xhtml>#</a></h2><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xhtml data-lang=xhtml><span style=display:flex><span><span style=color:#57606a>&lt;?xml version=&#34;1.0&#34; encoding=&#34;ISO-8859-1&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>html</span> <span style=color:#1f2328>xmlns</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;http://www.w3.org/1999/xhtml&#34;</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>head</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>title</span><span style=color:#1f2328>&gt;</span>Exemple AJAX<span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>title</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>script</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#57606a>// Charge un document XML/XHTML et appelle afficheTitre()
</span></span></span><span style=display:flex><span>      <span style=color:#cf222e>async</span> <span style=color:#cf222e>function</span> <span style=color:#1f2328>chargeDocument</span><span style=color:#1f2328>(</span><span style=color:#1f2328>uri</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>try</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>          <span style=color:#cf222e>const</span> <span style=color:#1f2328>response</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>await</span> <span style=color:#1f2328>fetch</span><span style=color:#1f2328>(</span><span style=color:#1f2328>uri</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>          <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#0550ae>!</span><span style=color:#1f2328>response</span><span style=color:#1f2328>.</span><span style=color:#1f2328>ok</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>            <span style=color:#cf222e>throw</span> <span style=color:#cf222e>new</span> <span style=color:#6639ba>Error</span><span style=color:#1f2328>(</span><span style=color:#0a3069>`Erreur HTTP: </span><span style=color:#0a3069>${</span><span style=color:#1f2328>response</span><span style=color:#1f2328>.</span><span style=color:#1f2328>status</span><span style=color:#0a3069>}</span><span style=color:#0a3069>`</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>          <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>          <span style=color:#cf222e>const</span> <span style=color:#1f2328>text</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>await</span> <span style=color:#1f2328>response</span><span style=color:#1f2328>.</span><span style=color:#1f2328>text</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>          <span style=color:#57606a>// Sans await, text serait une Promise, pas le contenu texte de la réponse.
</span></span></span><span style=display:flex><span>          <span style=color:#57606a>// Cela causerait une erreur lors de l&#39;utilisation de text dans DOMParser.parseFromString(),
</span></span></span><span style=display:flex><span>          <span style=color:#57606a>// car parseFromString attend une chaîne, pas une Promise.
</span></span></span><span style=display:flex><span>          <span style=color:#cf222e>const</span> <span style=color:#1f2328>parser</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>new</span> <span style=color:#1f2328>DOMParser</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>          <span style=color:#cf222e>const</span> <span style=color:#1f2328>doc</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>parser</span><span style=color:#1f2328>.</span><span style=color:#1f2328>parseFromString</span><span style=color:#1f2328>(</span><span style=color:#1f2328>text</span><span style=color:#1f2328>,</span> <span style=color:#0a3069>&#34;application/xml&#34;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>          <span style=color:#1f2328>afficheTitre</span><span style=color:#1f2328>(</span><span style=color:#1f2328>doc</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>}</span> <span style=color:#cf222e>catch</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>error</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>          <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>error</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;Erreur lors du chargement:&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>error</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>      <span style=color:#57606a>// La fonction chargeDocument déclarée async car elle utilise le mot-clé await à l&#39;intérieur.
</span></span></span><span style=display:flex><span>      <span style=color:#57606a>// Sans async, await ne pourrait pas être utilisé, et la fonction retournerait immédiatement
</span></span></span><span style=display:flex><span>      <span style=color:#57606a>// sans attendre la résolution des Promises. async transforme la fonction en une fonction
</span></span></span><span style=display:flex><span>      <span style=color:#57606a>// qui retourne une Promise, permettant ainsi l&#39;utilisation d&#39;await pour une exécution séquentielle apparente.
</span></span></span><span style=display:flex><span>      <span style=color:#57606a>// Affiche le contenu de l&#39;élément &lt;title&gt;
</span></span></span><span style=display:flex><span>      <span style=color:#cf222e>function</span> <span style=color:#1f2328>afficheTitre</span><span style=color:#1f2328>(</span><span style=color:#1f2328>doc</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>var</span> <span style=color:#1f2328>titre</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>doc</span><span style=color:#1f2328>.</span><span style=color:#1f2328>getElementsByTagName</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;title&#34;</span><span style=color:#1f2328>)[</span><span style=color:#0550ae>0</span><span style=color:#1f2328>];</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>var</span> <span style=color:#1f2328>texte</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>titre</span><span style=color:#1f2328>.</span><span style=color:#1f2328>firstChild</span> <span style=color:#0550ae>?</span> <span style=color:#1f2328>titre</span><span style=color:#1f2328>.</span><span style=color:#1f2328>firstChild</span><span style=color:#1f2328>.</span><span style=color:#1f2328>nodeValue</span> <span style=color:#0550ae>:</span> <span style=color:#0a3069>&#34;&#34;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>var</span> <span style=color:#1f2328>p</span> <span style=color:#0550ae>=</span> <span style=color:#6639ba>document</span><span style=color:#1f2328>.</span><span style=color:#1f2328>createElement</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;p&#34;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>p</span><span style=color:#1f2328>.</span><span style=color:#1f2328>appendChild</span><span style=color:#1f2328>(</span><span style=color:#6639ba>document</span><span style=color:#1f2328>.</span><span style=color:#1f2328>createTextNode</span><span style=color:#1f2328>(</span><span style=color:#1f2328>texte</span><span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>        <span style=color:#6639ba>document</span><span style=color:#1f2328>.</span><span style=color:#1f2328>getElementsByTagName</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;body&#34;</span><span style=color:#1f2328>)[</span><span style=color:#0550ae>0</span><span style=color:#1f2328>].</span><span style=color:#1f2328>appendChild</span><span style=color:#1f2328>(</span><span style=color:#1f2328>p</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>script</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>head</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>body</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>p</span><span style=color:#1f2328>&gt;</span>Cliquez plusieurs fois sur les liens ci-dessous :<span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>p</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>ul</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>li</span><span style=color:#1f2328>&gt;&lt;</span><span style=color:#0550ae>a</span> <span style=color:#1f2328>href</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;javascript:chargeDocument(&#39;domtutoriel.xhtml&#39;)&#34;</span><span style=color:#1f2328>&gt;</span>domtutoriel.xhtml<span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>a</span><span style=color:#1f2328>&gt;&lt;/</span><span style=color:#0550ae>li</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>li</span><span style=color:#1f2328>&gt;&lt;</span><span style=color:#0550ae>a</span> <span style=color:#1f2328>href</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;javascript:chargeDocument(&#39;travail5.xhtml&#39;)&#34;</span><span style=color:#1f2328>&gt;</span>travail5.xhtml<span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>a</span><span style=color:#1f2328>&gt;&lt;/</span><span style=color:#0550ae>li</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>ul</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>body</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>html</span><span style=color:#1f2328>&gt;</span>
</span></span></code></pre></div><p>Dans cet exemple, la fonction <code>chargeDocument</code> utilise <code>XMLHttpRequest</code> pour effectuer une requête GET asynchrone vers une URI. Lorsque la réponse est reçue (readyState === 4 et status === 200), elle appelle <code>afficheTitre</code> qui extrait le contenu de l&rsquo;élément <code>&lt;title></code> du document XML chargé et l&rsquo;ajoute dynamiquement à la page.</p><h2 id=exemple-avancé--afficher-les-titres-dun-flux-rss-le-devoir>Exemple avancé : afficher les titres d’un flux RSS (Le Devoir)
<a class=anchor href=#exemple-avanc%c3%a9--afficher-les-titres-dun-flux-rss-le-devoir>#</a></h2><p>Sélectionnez un fichier XML RSS pour afficher ses titres.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xhtml data-lang=xhtml><span style=display:flex><span><span style=color:#57606a>&lt;?xml version=&#34;1.0&#34; encoding=&#34;ISO-8859-1&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>html</span> <span style=color:#1f2328>xmlns</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;http://www.w3.org/1999/xhtml&#34;</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>head</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>title</span><span style=color:#1f2328>&gt;</span>Exemple AJAX – Flux RSS<span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>title</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>script</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>function</span> <span style=color:#1f2328>chargeDocumentFromFile</span><span style=color:#1f2328>(</span><span style=color:#1f2328>input</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>var</span> <span style=color:#1f2328>file</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>input</span><span style=color:#1f2328>.</span><span style=color:#1f2328>files</span><span style=color:#1f2328>[</span><span style=color:#0550ae>0</span><span style=color:#1f2328>];</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>file</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>          <span style=color:#cf222e>var</span> <span style=color:#1f2328>reader</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>new</span> <span style=color:#1f2328>FileReader</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>          <span style=color:#1f2328>reader</span><span style=color:#1f2328>.</span><span style=color:#1f2328>onload</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>function</span><span style=color:#1f2328>(</span><span style=color:#1f2328>e</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>            <span style=color:#cf222e>var</span> <span style=color:#1f2328>doc</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>new</span> <span style=color:#1f2328>DOMParser</span><span style=color:#1f2328>().</span><span style=color:#1f2328>parseFromString</span><span style=color:#1f2328>(</span><span style=color:#1f2328>e</span><span style=color:#1f2328>.</span><span style=color:#1f2328>target</span><span style=color:#1f2328>.</span><span style=color:#1f2328>result</span><span style=color:#1f2328>,</span> <span style=color:#0a3069>&#34;application/xml&#34;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>            <span style=color:#1f2328>afficheTitres</span><span style=color:#1f2328>(</span><span style=color:#1f2328>doc</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>          <span style=color:#1f2328>};</span>
</span></span><span style=display:flex><span>          <span style=color:#1f2328>reader</span><span style=color:#1f2328>.</span><span style=color:#1f2328>readAsText</span><span style=color:#1f2328>(</span><span style=color:#1f2328>file</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>script</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>head</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>body</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>input</span> <span style=color:#1f2328>type</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;file&#34;</span> <span style=color:#1f2328>accept</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;.xml&#34;</span> <span style=color:#1f2328>onchange</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;chargeDocumentFromFile(this)&#34;</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>body</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>html</span><span style=color:#1f2328>&gt;</span>
</span></span></code></pre></div><p>Cet exemple avancé montre comment parser un fichier XML RSS sélectionné localement. L&rsquo;utilisateur choisit un fichier via un input de type file, qui est lu avec FileReader, puis parsé avec DOMParser. La fonction <code>afficheTitres</code> récupère tous les éléments <code>&lt;title></code> et les affiche dans une liste ordonnée. Cela illustre comment AJAX peut être utilisé pour traiter des fichiers locaux sans serveur.</p><h2 id=utiliser-importnode-pour-insérer-tout-un-fragment-xml>Utiliser importNode() pour insérer tout un fragment XML
<a class=anchor href=#utiliser-importnode-pour-ins%c3%a9rer-tout-un-fragment-xml>#</a></h2><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#cf222e>function</span> <span style=color:#1f2328>afficheListe</span><span style=color:#1f2328>(</span><span style=color:#1f2328>doc</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>var</span> <span style=color:#1f2328>ul</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>doc</span><span style=color:#1f2328>.</span><span style=color:#1f2328>getElementsByTagName</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;ul&#34;</span><span style=color:#1f2328>)[</span><span style=color:#0550ae>0</span><span style=color:#1f2328>];</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>var</span> <span style=color:#1f2328>copie</span> <span style=color:#0550ae>=</span> <span style=color:#6639ba>document</span><span style=color:#1f2328>.</span><span style=color:#1f2328>importNode</span><span style=color:#1f2328>(</span><span style=color:#1f2328>ul</span><span style=color:#1f2328>,</span> <span style=color:#cf222e>true</span><span style=color:#1f2328>);</span>   <span style=color:#57606a>// true = copie profonde
</span></span></span><span style=display:flex><span>  <span style=color:#6639ba>document</span><span style=color:#1f2328>.</span><span style=color:#1f2328>body</span><span style=color:#1f2328>.</span><span style=color:#1f2328>appendChild</span><span style=color:#1f2328>(</span><span style=color:#1f2328>copie</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></div><p>La méthode <code>importNode()</code> permet d&rsquo;importer un nœud d&rsquo;un document XML externe vers le document HTML courant. Le paramètre <code>true</code> indique une copie profonde, incluant tous les nœuds enfants. Cela est utile pour éviter les conflits d&rsquo;espaces de noms et pour intégrer des fragments XML complexes sans altérer le document source.</p><h2 id=chargement-de-fichiers-locaux-chrome-edge-etc>Chargement de fichiers locaux (Chrome, Edge, etc.)
<a class=anchor href=#chargement-de-fichiers-locaux-chrome-edge-etc>#</a></h2><p>La plupart du temps, les pages web ne peuvent pas charger du contenu provenant d&rsquo;un autre serveur. Il est donc
pratique de demander à l&rsquo;utilisateur de charger un fichier qui se trouve sur son disque.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#0550ae>&lt;</span><span style=color:#1f2328>input</span> <span style=color:#1f2328>type</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;file&#34;</span> <span style=color:#1f2328>onchange</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;chargeFichier(this.files[0])&#34;</span><span style=color:#0550ae>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>function</span> <span style=color:#1f2328>chargeFichier</span><span style=color:#1f2328>(</span><span style=color:#1f2328>fichier</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>var</span> <span style=color:#1f2328>lecteur</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>new</span> <span style=color:#1f2328>FileReader</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>lecteur</span><span style=color:#1f2328>.</span><span style=color:#1f2328>onload</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>function</span><span style=color:#1f2328>(</span><span style=color:#1f2328>e</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>var</span> <span style=color:#1f2328>doc</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>new</span> <span style=color:#1f2328>DOMParser</span><span style=color:#1f2328>().</span><span style=color:#1f2328>parseFromString</span><span style=color:#1f2328>(</span><span style=color:#1f2328>e</span><span style=color:#1f2328>.</span><span style=color:#1f2328>target</span><span style=color:#1f2328>.</span><span style=color:#1f2328>result</span><span style=color:#1f2328>,</span> <span style=color:#0a3069>&#34;application/xml&#34;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>afficheTitres</span><span style=color:#1f2328>(</span><span style=color:#1f2328>doc</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>};</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>lecteur</span><span style=color:#1f2328>.</span><span style=color:#1f2328>readAsText</span><span style=color:#1f2328>(</span><span style=color:#1f2328>fichier</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></div><p>Ce code permet de charger un fichier XML local sélectionné par l&rsquo;utilisateur via un input de type file. Il utilise <code>FileReader</code> pour lire le contenu du fichier en texte, puis <code>DOMParser</code> pour le parser en document XML. Cela évite les restrictions de sécurité des navigateurs qui empêchent le chargement direct de fichiers locaux via XMLHttpRequest.</p><p>AJAX permet de créer des applications web plus interactives en chargeant des données en arrière-plan sans recharger la page entière. L&rsquo;objet <code>XMLHttpRequest</code> est au cœur de cette technologie, permettant d&rsquo;envoyer des requêtes HTTP asynchrones. Combiné avec l&rsquo;API DOM pour manipuler le contenu de la page, AJAX offre une expérience utilisateur fluide.</p><p>L&rsquo;exemple simple montre comment charger un document XHTML et extraire son titre pour l&rsquo;afficher dynamiquement. L&rsquo;exemple avancé démontre le parsing d&rsquo;un flux RSS pour afficher une liste de titres. La méthode <code>importNode()</code> permet d&rsquo;importer des fragments XML d&rsquo;un document à un autre, utile pour intégrer du contenu externe sans conflits d&rsquo;espaces de noms.</p><h2 id=json>JSON
<a class=anchor href=#json>#</a></h2><p>Nous pouvons aussi utiliser la même technique en remplaçant le XML par JSON.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#1f2328>fetch</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;https://jsonplaceholder.typicode.com/posts/1&#39;</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>.</span><span style=color:#1f2328>then</span><span style=color:#1f2328>(</span><span style=color:#1f2328>response</span> <span style=color:#1f2328>=&gt;</span> <span style=color:#1f2328>response</span><span style=color:#1f2328>.</span><span style=color:#1f2328>json</span><span style=color:#1f2328>())</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>.</span><span style=color:#1f2328>then</span><span style=color:#1f2328>(</span><span style=color:#1f2328>donnees</span> <span style=color:#1f2328>=&gt;</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>log</span><span style=color:#1f2328>(</span><span style=color:#1f2328>donnees</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>        <span style=color:#57606a>// Traiter les données ici
</span></span></span><span style=display:flex><span>        <span style=color:#1f2328>afficheDonnees</span><span style=color:#1f2328>(</span><span style=color:#1f2328>donnees</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>})</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>.</span><span style=color:#cf222e>catch</span><span style=color:#1f2328>(</span><span style=color:#1f2328>error</span> <span style=color:#1f2328>=&gt;</span> <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>error</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;Erreur:&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>error</span><span style=color:#1f2328>));</span>
</span></span></code></pre></div><p>L&rsquo;API <code>fetch()</code> est plus moderne et basée sur les promesses que <code>XMLHttpRequest</code>. Elle permet de charger des données JSON de manière asynchrone et de les traiter facilement.</p><h3 id=fonction-daffichage-des-données>Fonction d&rsquo;affichage des données
<a class=anchor href=#fonction-daffichage-des-donn%c3%a9es>#</a></h3><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#cf222e>function</span> <span style=color:#1f2328>afficheDonnees</span><span style=color:#1f2328>(</span><span style=color:#1f2328>donnees</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>var</span> <span style=color:#1f2328>div</span> <span style=color:#0550ae>=</span> <span style=color:#6639ba>document</span><span style=color:#1f2328>.</span><span style=color:#1f2328>createElement</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;div&#34;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>div</span><span style=color:#1f2328>.</span><span style=color:#1f2328>innerHTML</span> <span style=color:#0550ae>=</span> <span style=color:#0a3069>&#34;&lt;h2&gt;&#34;</span> <span style=color:#0550ae>+</span> <span style=color:#1f2328>donnees</span><span style=color:#1f2328>.</span><span style=color:#1f2328>titre</span> <span style=color:#0550ae>+</span> <span style=color:#0a3069>&#34;&lt;/h2&gt;&#34;</span> <span style=color:#0550ae>+</span>
</span></span><span style=display:flex><span>                   <span style=color:#0a3069>&#34;&lt;p&gt;Auteur: &#34;</span> <span style=color:#0550ae>+</span> <span style=color:#1f2328>donnees</span><span style=color:#1f2328>.</span><span style=color:#1f2328>auteur</span> <span style=color:#0550ae>+</span> <span style=color:#0a3069>&#34;&lt;/p&gt;&#34;</span> <span style=color:#0550ae>+</span>
</span></span><span style=display:flex><span>                   <span style=color:#0a3069>&#34;&lt;p&gt;Description: &#34;</span> <span style=color:#0550ae>+</span> <span style=color:#1f2328>donnees</span><span style=color:#1f2328>.</span><span style=color:#1f2328>description</span> <span style=color:#0550ae>+</span> <span style=color:#0a3069>&#34;&lt;/p&gt;&#34;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>    <span style=color:#6639ba>document</span><span style=color:#1f2328>.</span><span style=color:#1f2328>body</span><span style=color:#1f2328>.</span><span style=color:#1f2328>appendChild</span><span style=color:#1f2328>(</span><span style=color:#1f2328>div</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></div><h3 id=exemple-complet-avec-json>Exemple complet avec JSON
<a class=anchor href=#exemple-complet-avec-json>#</a></h3><p>Voici un exemple complet d&rsquo;une page HTML utilisant AJAX avec JSON pour charger et afficher des données :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#57606a>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>html</span> <span style=color:#1f2328>lang</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;fr&#34;</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>head</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>meta</span> <span style=color:#1f2328>charset</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;UTF-8&#34;</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>title</span><span style=color:#1f2328>&gt;</span>Exemple AJAX avec JSON<span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>title</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>style</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#0550ae>body</span> <span style=color:#1f2328>{</span> <span style=color:#cf222e>font-family</span><span style=color:#1f2328>:</span> Arial<span style=color:#1f2328>,</span> <span style=color:#cf222e>sans-serif</span><span style=color:#1f2328>;</span> <span style=color:#cf222e>margin</span><span style=color:#1f2328>:</span> <span style=color:#0550ae>20</span><span style=color:#cf222e>px</span><span style=color:#1f2328>;</span> <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>.</span><span style=color:#1f2328>donnees</span> <span style=color:#1f2328>{</span> <span style=color:#cf222e>border</span><span style=color:#1f2328>:</span> <span style=color:#0550ae>1</span><span style=color:#cf222e>px</span> <span style=color:#cf222e>solid</span> <span style=color:#0550ae>#ccc</span><span style=color:#1f2328>;</span> <span style=color:#cf222e>padding</span><span style=color:#1f2328>:</span> <span style=color:#0550ae>10</span><span style=color:#cf222e>px</span><span style=color:#1f2328>;</span> <span style=color:#cf222e>margin</span><span style=color:#1f2328>:</span> <span style=color:#0550ae>10</span><span style=color:#cf222e>px</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span> <span style=color:#cf222e>border-radius</span><span style=color:#1f2328>:</span> <span style=color:#0550ae>5</span><span style=color:#cf222e>px</span><span style=color:#1f2328>;</span> <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>        <span style=color:#0550ae>button</span> <span style=color:#1f2328>{</span> <span style=color:#cf222e>padding</span><span style=color:#1f2328>:</span> <span style=color:#0550ae>10</span><span style=color:#cf222e>px</span> <span style=color:#0550ae>20</span><span style=color:#cf222e>px</span><span style=color:#1f2328>;</span> <span style=color:#cf222e>background-color</span><span style=color:#1f2328>:</span> <span style=color:#0550ae>#007bff</span><span style=color:#1f2328>;</span> <span style=color:#cf222e>color</span><span style=color:#1f2328>:</span> <span style=color:#cf222e>white</span><span style=color:#1f2328>;</span> <span style=color:#cf222e>border</span><span style=color:#1f2328>:</span> <span style=color:#cf222e>none</span><span style=color:#1f2328>;</span> <span style=color:#cf222e>border-radius</span><span style=color:#1f2328>:</span> <span style=color:#0550ae>5</span><span style=color:#cf222e>px</span><span style=color:#1f2328>;</span> <span style=color:#cf222e>cursor</span><span style=color:#1f2328>:</span> <span style=color:#cf222e>pointer</span><span style=color:#1f2328>;</span> <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>        <span style=color:#0550ae>button</span><span style=color:#1f2328>:</span><span style=color:#0550ae>hover</span> <span style=color:#1f2328>{</span> <span style=color:#cf222e>background-color</span><span style=color:#1f2328>:</span> <span style=color:#0550ae>#0056b3</span><span style=color:#1f2328>;</span> <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>style</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>head</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>body</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>h1</span><span style=color:#1f2328>&gt;</span>Chargement de données JSON avec AJAX<span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>h1</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>button</span> <span style=color:#1f2328>onclick</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;chargerDonnees()&#34;</span><span style=color:#1f2328>&gt;</span>Charger les données<span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>button</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>div</span> <span style=color:#1f2328>id</span><span style=color:#0550ae>=</span><span style=color:#0a3069>&#34;contenu&#34;</span><span style=color:#1f2328>&gt;&lt;/</span><span style=color:#0550ae>div</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>script</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>async</span> <span style=color:#cf222e>function</span> <span style=color:#1f2328>chargerDonnees</span><span style=color:#1f2328>()</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>            <span style=color:#cf222e>try</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>                <span style=color:#cf222e>const</span> <span style=color:#1f2328>response</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>await</span> <span style=color:#1f2328>fetch</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;https://jsonplaceholder.typicode.com/posts/1&#39;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>                <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#0550ae>!</span><span style=color:#1f2328>response</span><span style=color:#1f2328>.</span><span style=color:#1f2328>ok</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#cf222e>throw</span> <span style=color:#cf222e>new</span> <span style=color:#6639ba>Error</span><span style=color:#1f2328>(</span><span style=color:#0a3069>`Erreur HTTP: </span><span style=color:#0a3069>${</span><span style=color:#1f2328>response</span><span style=color:#1f2328>.</span><span style=color:#1f2328>status</span><span style=color:#0a3069>}</span><span style=color:#0a3069>`</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>                <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>                <span style=color:#cf222e>const</span> <span style=color:#1f2328>donnees</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>await</span> <span style=color:#1f2328>response</span><span style=color:#1f2328>.</span><span style=color:#1f2328>json</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>                <span style=color:#1f2328>afficherDonnees</span><span style=color:#1f2328>(</span><span style=color:#1f2328>donnees</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>            <span style=color:#1f2328>}</span> <span style=color:#cf222e>catch</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>error</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>                <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>error</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;Erreur lors du chargement:&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>error</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>                <span style=color:#6639ba>document</span><span style=color:#1f2328>.</span><span style=color:#1f2328>getElementById</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;contenu&#39;</span><span style=color:#1f2328>).</span><span style=color:#1f2328>innerHTML</span> <span style=color:#0550ae>=</span> <span style=color:#0a3069>&#39;&lt;p style=&#34;color: red;&#34;&gt;Erreur lors du chargement des données.&lt;/p&gt;&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>            <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>function</span> <span style=color:#1f2328>afficherDonnees</span><span style=color:#1f2328>(</span><span style=color:#1f2328>donnees</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>            <span style=color:#cf222e>const</span> <span style=color:#1f2328>contenu</span> <span style=color:#0550ae>=</span> <span style=color:#6639ba>document</span><span style=color:#1f2328>.</span><span style=color:#1f2328>getElementById</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;contenu&#39;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>            <span style=color:#1f2328>contenu</span><span style=color:#1f2328>.</span><span style=color:#1f2328>innerHTML</span> <span style=color:#0550ae>=</span> <span style=color:#0a3069>&#39;&#39;</span><span style=color:#1f2328>;</span> <span style=color:#57606a>// Vider le contenu précédent
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#cf222e>const</span> <span style=color:#1f2328>div</span> <span style=color:#0550ae>=</span> <span style=color:#6639ba>document</span><span style=color:#1f2328>.</span><span style=color:#1f2328>createElement</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;div&#39;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>            <span style=color:#1f2328>div</span><span style=color:#1f2328>.</span><span style=color:#1f2328>className</span> <span style=color:#0550ae>=</span> <span style=color:#0a3069>&#39;donnees&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>            <span style=color:#1f2328>div</span><span style=color:#1f2328>.</span><span style=color:#1f2328>innerHTML</span> <span style=color:#0550ae>=</span> <span style=color:#0a3069>`
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                &lt;h3&gt;</span><span style=color:#0a3069>${</span><span style=color:#1f2328>donnees</span><span style=color:#1f2328>.</span><span style=color:#1f2328>title</span><span style=color:#0a3069>}</span><span style=color:#0a3069>&lt;/h3&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                &lt;p&gt;&lt;strong&gt;ID:&lt;/strong&gt; </span><span style=color:#0a3069>${</span><span style=color:#1f2328>donnees</span><span style=color:#1f2328>.</span><span style=color:#1f2328>id</span><span style=color:#0a3069>}</span><span style=color:#0a3069>&lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                &lt;p&gt;&lt;strong&gt;User ID:&lt;/strong&gt; </span><span style=color:#0a3069>${</span><span style=color:#1f2328>donnees</span><span style=color:#1f2328>.</span><span style=color:#1f2328>userId</span><span style=color:#0a3069>}</span><span style=color:#0a3069>&lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                &lt;p&gt;&lt;strong&gt;Contenu:&lt;/strong&gt; </span><span style=color:#0a3069>${</span><span style=color:#1f2328>donnees</span><span style=color:#1f2328>.</span><span style=color:#1f2328>body</span><span style=color:#0a3069>}</span><span style=color:#0a3069>&lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            `</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>            <span style=color:#1f2328>contenu</span><span style=color:#1f2328>.</span><span style=color:#1f2328>appendChild</span><span style=color:#1f2328>(</span><span style=color:#1f2328>div</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>script</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>body</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>html</span><span style=color:#1f2328>&gt;</span>
</span></span></code></pre></div><p>Cet exemple montre comment :</p><ul><li>Utiliser <code>fetch()</code> pour effectuer une requête GET à une API REST</li><li>Gérer les erreurs avec try/catch</li><li>Parser automatiquement le JSON avec <code>response.json()</code></li><li>Afficher dynamiquement les données dans le DOM</li></ul><p>L&rsquo;exemple utilise l&rsquo;API publique JSONPlaceholder pour démontrer une vraie requête HTTP GET. JSON offre une alternative moderne et légère à XML pour l&rsquo;échange de données en AJAX.</p><h2 id=trucs-pour-le-développement-javascript-dans-un-navigateur>Trucs pour le développement JavaScript dans un navigateur
<a class=anchor href=#trucs-pour-le-d%c3%a9veloppement-javascript-dans-un-navigateur>#</a></h2><p>Tous les navigateurs modernes (Chrome, Firefox, Edge, Safari) disposent d&rsquo;outils de développement intégrés. Ouvrez-les avec F12 ou Ctrl+Shift+I (Cmd+Option+I sur Mac).</p><ul><li><strong>Console</strong> : Pour les logs (<code>console.log()</code>), erreurs, et exécuter du code en direct</li><li><strong>Network</strong> : Pour inspecter les requêtes HTTP, voir les réponses AJAX, et déboguer les appels API</li><li><strong>Sources</strong> : Pour déboguer le code JavaScript avec des points d&rsquo;arrêt</li><li><strong>Application</strong> : Pour inspecter le stockage local, les cookies, et les données de session</li></ul><p>Lorsque vous faites des requêtes AJAX vers des domaines différents, vous pouvez rencontrer des erreurs.
Utilisez un serveur local (comme <code>ExempleServeurFichiersSimple.java</code>).</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><div class="flex flex-wrap justify-between"><a href=/orientee_donnees/docs/modules/e_module_services/base64/ class="flex align-center float-left book-icon"><img src=/orientee_donnees/svg/backward.svg alt=Previous title=Base64>
<span>Base64</span>
</a><a href=/orientee_donnees/docs/modules/e_module_services/introservicesweb/ class="flex align-center float-right book-icon"><span>Introduction aux services web</span>
<img src=/orientee_donnees/svg/forward.svg alt=Next title="Introduction aux services web"></a></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#asynchronous-javascript-and-xml-ajax>Asynchronous JavaScript And XML (AJAX)</a></li><li><a href=#exemple-simple--charger-et-afficher-le-titre-dun-document-xhtml>Exemple simple : charger et afficher le titre d’un document XHTML</a></li><li><a href=#exemple-avancé--afficher-les-titres-dun-flux-rss-le-devoir>Exemple avancé : afficher les titres d’un flux RSS (Le Devoir)</a></li><li><a href=#utiliser-importnode-pour-insérer-tout-un-fragment-xml>Utiliser importNode() pour insérer tout un fragment XML</a></li><li><a href=#chargement-de-fichiers-locaux-chrome-edge-etc>Chargement de fichiers locaux (Chrome, Edge, etc.)</a></li><li><a href=#json>JSON</a><ul><li><a href=#fonction-daffichage-des-données>Fonction d&rsquo;affichage des données</a></li><li><a href=#exemple-complet-avec-json>Exemple complet avec JSON</a></li></ul></li><li><a href=#trucs-pour-le-développement-javascript-dans-un-navigateur>Trucs pour le développement JavaScript dans un navigateur</a></li></ul></nav></div></aside></main></body></html>