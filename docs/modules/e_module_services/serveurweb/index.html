<!doctype html><html lang=fr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  Serveur Web Java
  #

Le protocole HTTP (HyperText Transfer Protocol) est un protocole de communication standard utilisé pour transférer des données sur le web. Il définit comment les clients, tels que les navigateurs web, peuvent demander des ressources aux serveurs et comment ces derniers répondent. HTTP repose sur un modèle requête-réponse, où le client envoie une requête et le serveur renvoie une réponse.
Une requête HTTP est une demande initiée par le client pour accéder à une ressource spécifique sur le serveur. Elle comprend généralement une méthode (GET, PUT, etc.), une URL pointant vers la ressource, des en-têtes contenant des informations supplémentaires (comme le type de contenu accepté), et parfois un corps pour les données envoyées. Le serveur traite la requête et renvoie une réponse avec un code de statut (par exemple, 200 pour succès, 404 pour non trouvé) et le contenu demandé."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://lemire.github.io/orientee_donnees/docs/modules/e_module_services/serveurweb/"><meta property="og:site_name" content="Programmation orientée-données"><meta property="og:title" content="Serveur Web Java"><meta property="og:description" content="Serveur Web Java # Le protocole HTTP (HyperText Transfer Protocol) est un protocole de communication standard utilisé pour transférer des données sur le web. Il définit comment les clients, tels que les navigateurs web, peuvent demander des ressources aux serveurs et comment ces derniers répondent. HTTP repose sur un modèle requête-réponse, où le client envoie une requête et le serveur renvoie une réponse.
Une requête HTTP est une demande initiée par le client pour accéder à une ressource spécifique sur le serveur. Elle comprend généralement une méthode (GET, PUT, etc.), une URL pointant vers la ressource, des en-têtes contenant des informations supplémentaires (comme le type de contenu accepté), et parfois un corps pour les données envoyées. Le serveur traite la requête et renvoie une réponse avec un code de statut (par exemple, 200 pour succès, 404 pour non trouvé) et le contenu demandé."><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="docs"><title>Serveur Web Java | Programmation orientée-données</title><link rel=icon href=/orientee_donnees/favicon.png><link rel=manifest href=/orientee_donnees/manifest.json><link rel=canonical href=https://lemire.github.io/orientee_donnees/docs/modules/e_module_services/serveurweb/><link rel=stylesheet href=/orientee_donnees/book.min.a006656c8516e75b9916bf87553cdae09b7d022a0ef8c51fcafcb935e4e3d410.css integrity="sha256-oAZlbIUW51uZFr+HVTza4Jt9AioO+MUfyvy5NeTj1BA=" crossorigin=anonymous><script defer src=/orientee_donnees/fuse.min.js></script><script defer src=/orientee_donnees/fr.search.min.c8a24fc8fbd9db899b5a0527636287de92dba630bb004d8fe031f7ec1b898943.js integrity="sha256-yKJPyPvZ24mbWgUnY2KH3pLbpjC7AE2P4DH37BuJiUM=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/orientee_donnees/><img src=/orientee_donnees/favicon.png alt=Logo class=book-icon><span>Programmation orientée-données</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Rechercher aria-label=Rechercher maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/orientee_donnees/docs/modules/>Modules</a><ul><li><input type=checkbox id=section-e0cc4658cb7e0b0785f48bc734a0d868 class=toggle>
<label for=section-e0cc4658cb7e0b0785f48bc734a0d868 class=flex><a href=/orientee_donnees/docs/modules/a_module_json/ class=flex-auto>Module JSON</a></label><ul><li><a href=/orientee_donnees/docs/modules/a_module_json/json/>JSON</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/geojson/>GeoJSON</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/markdown/>MarkDown</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/javascript/>JavaScript et JSON</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/jq/>Activité avec jq</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/gjson/>Google Gson</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/encodage_des_caracteres_unicode/>Encodage des caractères Unicode</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-5dba5cff8314754d322613989dda2ee4 class=toggle>
<label for=section-5dba5cff8314754d322613989dda2ee4 class=flex><a href=/orientee_donnees/docs/modules/b_module_xml/ class=flex-auto>Module XML</a></label><ul><li><input type=checkbox id=section-b0f20b451fe2916a31453d5cbda26a99 class=toggle>
<label for=section-b0f20b451fe2916a31453d5cbda26a99 class=flex><a role=button class=flex-auto>Les fondements</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/introduction_a_xml/>Introduction à XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/principes_du_xml/>Principes du XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/creer_un_fichier_xml/>Créer un fichier XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/mise_en_forme_du_xml/>Mise en forme du XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/laboratoire_sur_la_structure_en_arbre_des_documents_xml/>Laboratoire sur la structure en arbre des documents XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/labo/>Vérificateur de XML bien formé</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/autoevaluation/>Autoévaluation XML</a></li></ul></li><li><input type=checkbox id=section-344b47eee8a14c6b3ccb143c1f5bf702 class=toggle>
<label for=section-344b47eee8a14c6b3ccb143c1f5bf702 class=flex><a role=button class=flex-auto>Validation</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/definition_de_type_de_document/>Définition de type de document</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/validation_de_documents_xml/>Validation de documents XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/autoevaluation_dtd/>Autoévaluation</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/docx_microsoft_word/>Docx (Microsoft Word)</a></li></ul></li><li><input type=checkbox id=section-d96b044d241e9b77e9c0592b528dc057 class=toggle>
<label for=section-d96b044d241e9b77e9c0592b528dc057 class=flex><a role=button class=flex-auto>Espaces de nom</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/espaces/espace_de_nom/>Espace de noms</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/espaces/autoevaluation_adv/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-7677844365e3481ee5b7c1ca5bb4c38f class=toggle>
<label for=section-7677844365e3481ee5b7c1ca5bb4c38f class=flex><a role=button class=flex-auto>Exemples</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/le_fichier_pomxml_en_java/>Le fichier pom.xml en Java</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/le_fichier_sitemapxml/>Le fichier sitemap.xml</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/les_fichiers_csproj_en_c/>Les fichiers csproj en C#</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/rss/>Les formats RSS et Atom</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/three/>X3D</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/le_fichier_androidmanifestxml/>Le fichier AndroidManifest.xml</a></li></ul></li><li><input type=checkbox id=section-3414f79d7e98c78ad1d3dbda25a1f55a class=toggle>
<label for=section-3414f79d7e98c78ad1d3dbda25a1f55a class=flex><a role=button class=flex-auto>RDF</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/introduction_au_rdf/>Introduction au RDF</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/applications_du_rdf/>Applications du RDF</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/autoevaluation_rdf/>Autoévaluation</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/sparql/>Activité SPARQL</a></li></ul></li><li><input type=checkbox id=section-fb1c5b6035fd6d3caf7148dac6057b07 class=toggle>
<label for=section-fb1c5b6035fd6d3caf7148dac6057b07 class=flex><a role=button class=flex-auto>Modèles de programmation</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/dom/>DOM</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/javascript/>JavaScript et DOM</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/autoevaluation/>Autoévaluation DOM</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/jackson/>Activité JSON/XML avec Jackson</a></li></ul></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-5d65d8b100e58c6d134cd4da58e1cd2c class=toggle>
<label for=section-5d65d8b100e58c6d134cd4da58e1cd2c class=flex><a href=/orientee_donnees/docs/modules/c_module_xslt/ class=flex-auto>Module XPath, XSLT, XQuery</a></label><ul><li><input type=checkbox id=section-7ac06c5c6cb170ae259ae8aaa0f2fa28 class=toggle>
<label for=section-7ac06c5c6cb170ae259ae8aaa0f2fa28 class=flex><a role=button class=flex-auto>XPath</a></label><ul><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_un_premier_laboratoire/>XPath : un premier laboratoire</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_approfondissement/>XPath : approfondissement</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_en_ligne_java/>XPath avec Java</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_second_laboratoire/>XPath : second laboratoire</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/autoevaluation_xpath/>Autoévaluation</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_20_et_30/>XPath 2.0 et 3.0</a></li></ul></li><li><input type=checkbox id=section-f547d6e3d6ea0eaec3e702c4dfd2c47e class=toggle>
<label for=section-f547d6e3d6ea0eaec3e702c4dfd2c47e class=flex><a role=button class=flex-auto>XSLT</a></label><ul><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/introduction_au_xslt/>Introduction au XSLT</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_en_ligne/>XSLT en ligne</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_en_ligne_java/>XSLT avec Java</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/un_peu_plus_de_xslt_fonctionnement_de_base_template_et_value-of/>Un peu plus de XSLT : fonctionnement de base, template et value-of</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_valeurs_dattribut/>Les valeurs d’attribut</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_modulaire/>XSLT modulaire</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_noms_delements/>Les noms d’éléments</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/attribut_mode/>Attribut mode</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/la_fonction_generate-id/>La fonction generate-id</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_tests/>Les tests</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_boucles/>Les boucles</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/cles_et_aggregation/>Clés et aggrégation</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/generer_des_noeuds_dynamiquement/>Générer des noeuds dynamiquement</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/variables_et_parametres/>Variables et paramètres</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/mise_en_forme/>Mise en forme</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/espaces_de_noms/>Espaces de noms</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_axes/>Les axes</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/etude_dun_exemple_docbook/>Étude d’un exemple (DocBook)</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/laboratoire_xslt/>Laboratoire XSLT</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/laboratoire_xslt_avec_python_optionnel/>Laboratoire XSLT avec Python (optionnel)</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_20_et_30/>XSLT 2.0 et 3.0</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/autoevaluation_xslt/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-b3c85205c7eb5b729c0be10ddbd24290 class=toggle>
<label for=section-b3c85205c7eb5b729c0be10ddbd24290 class=flex><a role=button class=flex-auto>XQuery</a></label><ul><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xquery/xquery/>XQuery</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xquery/laboratoire_xquery_avec_python_optionnel/>Laboratoire XQuery avec Python (optionnel)</a></li></ul></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-2a04c3a72cdb954ae36ef63df297319a class=toggle>
<label for=section-2a04c3a72cdb954ae36ef63df297319a class=flex><a href=/orientee_donnees/docs/modules/d_module_html/ class=flex-auto>Module HTML, CSS, SVG, MathML</a></label><ul><li><a href=/orientee_donnees/docs/modules/d_module_html/xhtml/>XHTML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/html_5/>HTML 5</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/autoevaluation/>Autoévaluation HTML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/css/>CSS</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/css2/>CSS (partie 2)</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/css3/>CSS (partie 3)</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/laboratoire_css/>Laboratoire CSS</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/svg/>SVG</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/mathml/>MathML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/cssmathml/>Laboratoire CSS/MathML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/autoevaluation_css/>Autoévaluation CSS</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-d04fad4b07d7c0c5b266f3694fc3c8af class=toggle checked>
<label for=section-d04fad4b07d7c0c5b266f3694fc3c8af class=flex><a href=/orientee_donnees/docs/modules/e_module_services/ class=flex-auto>Module Services et YAML</a></label><ul><li><a href=/orientee_donnees/docs/modules/e_module_services/serveurweb/ class=active>Serveur Web Java</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/base64/>Base64</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/asynchronous_javascript_and_xml_ajax/>Chargement XML/JSON en JavaScript</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/introservicesweb/>Introduction aux services web</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/serviceweb/>Création d'un service web</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/yaml/>YAML</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/travail/>Travail noté</a></li></ul></li></ul></li><li><input type=checkbox id=section-bfca035f077c4a3a8e327bb4e5d9433e class=toggle>
<label for=section-bfca035f077c4a3a8e327bb4e5d9433e class=flex><a role=button class=flex-auto>Contenu suppplémentaire</a></label><ul><li><a href=/orientee_donnees/docs/extra/glossaire/>Glossaire</a></li><li><a href=/orientee_donnees/docs/extra/pense-bete_xml/>Pense-bête XML</a></li><li><a href=/orientee_donnees/docs/extra/pense-bete_json/>Pense-bête JSON</a></li><li><a href=/orientee_donnees/docs/extra/pense-bete_yaml/>Pense-bête YAML</a></li><li><a href=/orientee_donnees/docs/extra/professeur/>Professeur</a></li></ul></li><li><a href=/orientee_donnees/docs/travail_integration/>Travail d'intégration</a></li><li><a href=/orientee_donnees/docs/evaluation/>Évaluation et feuille de route</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/orientee_donnees/svg/menu.svg class=book-icon alt=Menu></label><h3>Serveur Web Java</h3><label for=toc-control><img src=/orientee_donnees/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#gestion-des-chemins-avec-createcontext>Gestion des chemins avec createContext</a><ul><li><a href=#quest-ce-quun-httphandler->Qu&rsquo;est-ce qu&rsquo;un HttpHandler ?</a></li><li><a href=#gestion-des-méthodes-http-get-et-put>Gestion des méthodes HTTP GET et PUT</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=serveur-web-java>Serveur Web Java
<a class=anchor href=#serveur-web-java>#</a></h1><p>Le protocole HTTP (HyperText Transfer Protocol) est un protocole de communication standard utilisé pour transférer des données sur le web. Il définit comment les clients, tels que les navigateurs web, peuvent demander des ressources aux serveurs et comment ces derniers répondent. HTTP repose sur un modèle requête-réponse, où le client envoie une requête et le serveur renvoie une réponse.</p><p>Une requête HTTP est une demande initiée par le client pour accéder à une ressource spécifique sur le serveur. Elle comprend généralement une méthode (GET, PUT, etc.), une URL pointant vers la ressource, des en-têtes contenant des informations supplémentaires (comme le type de contenu accepté), et parfois un corps pour les données envoyées. Le serveur traite la requête et renvoie une réponse avec un code de statut (par exemple, 200 pour succès, 404 pour non trouvé) et le contenu demandé.</p><p>Parmi les méthodes HTTP les plus courantes, GET est utilisée pour récupérer des données d’un serveur sans modifier l’état de la ressource : les paramètres sont appendus à l’URL sous forme de chaîne de requête, ce qui les rend visibles, limités en taille et propices à la mise en cache, mais moins sécurisés pour des informations sensibles ; elle est idempotente, c’est-à-dire que plusieurs appels identiques produisent le même résultat sans effet secondaire. À l’opposé, POST sert à envoyer des données au serveur pour créer ou mettre à jour une ressource, en plaçant les paramètres dans le corps de la requête, ce qui les rend invisibles dans l’URL, permet de transmettre des volumes plus importants (y compris des fichiers) et offre une meilleure confidentialité, bien que la sécurité réelle repose sur l’utilisation de HTTPS ; contrairement à GET, POST n’est pas idempotente et n’est généralement pas mise en cache. En pratique, on privilégie GET pour des opérations de lecture simples comme des recherches ou des filtres, et POST pour des soumissions de formulaires ou des envois de données confidentielles.</p><p>Il arrive que l&rsquo;on souhaite lancer rapidement un petit serveur web. Il est
facile d&rsquo;y arriver avec Java.
Créez un fichier <code>ExempleServeurFichiersSimple.java</code>
avec le contenu suivant, compilez et exécutez-le dans un dossier. Si le port 8000 n&rsquo;est pas utilisé sur votre ordinateur
vous aurez un serveur web fonctionnant sur votre machine. (Dans le cas contraire, remplacez le port 8000 par 8001 ou 8002.) Vous pouvez déposer des fichiers HTML
dans ce répertoire et les chargez dans votre navigateur.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>com.sun.net.httpserver.HttpServer</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>com.sun.net.httpserver.SimpleFileServer</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.net.InetSocketAddress</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Path</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>ExempleServeurFichiersSimple</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>IOException<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>port<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>8000<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Path<span style=color:#fff> </span>repertoireCourant<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>Path<span style=color:#1f2328>.</span><span style=color:#1f2328>of</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;.&#34;</span><span style=color:#1f2328>).</span><span style=color:#1f2328>toAbsolutePath</span><span style=color:#1f2328>();</span><span style=color:#fff>  </span><span style=color:#57606a>// Répertoire courant</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>HttpServer<span style=color:#fff> </span>serveur<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>HttpServer<span style=color:#1f2328>.</span><span style=color:#1f2328>create</span><span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>InetSocketAddress<span style=color:#1f2328>(</span>port<span style=color:#1f2328>),</span><span style=color:#fff> </span>0<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>serveur<span style=color:#1f2328>.</span><span style=color:#1f2328>createContext</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;/&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span>SimpleFileServer<span style=color:#1f2328>.</span><span style=color:#1f2328>createFileHandler</span><span style=color:#1f2328>(</span>repertoireCourant<span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>serveur<span style=color:#1f2328>.</span><span style=color:#1f2328>start</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Serveur démarré sur le port &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>port<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;, servant les fichiers depuis &#34;</span><span style=color:#fff> 
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>repertoireCourant<span style=color:#1f2328>.</span><span style=color:#1f2328>toAbsolutePath</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Accédez-y via http://localhost:&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>port<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;/&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Essayez de déposer ce dossier un fichier nommé <code>test.html</code> avec le contenu suivant.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>html</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>body</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>&lt;</span><span style=color:#0550ae>p</span><span style=color:#1f2328>&gt;</span>Allo!<span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>p</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>body</span><span style=color:#1f2328>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>&lt;/</span><span style=color:#0550ae>html</span><span style=color:#1f2328>&gt;</span>
</span></span></code></pre></div><p>Vous devriez pouvoir charger ce fichier dans votre navigateur.</p><h2 id=gestion-des-chemins-avec-createcontext>Gestion des chemins avec createContext
<a class=anchor href=#gestion-des-chemins-avec-createcontext>#</a></h2><p>La méthode <code>createContext</code> de la classe <code>HttpServer</code> permet de définir des gestionnaires pour des chemins spécifiques sur le serveur HTTP. Cela offre une flexibilité pour gérer différentes routes et répondre de manière appropriée selon l&rsquo;URL demandée par le client.
Pour créer un contexte, vous utilisez <code>serveur.createContext(path, handler)</code>, où :</p><ul><li><code>path</code> est la chaîne de caractères représentant le chemin (par exemple, &ldquo;/hello&rdquo;)</li><li><code>handler</code> est une implémentation de l&rsquo;interface <code>HttpHandler</code> qui définit comment traiter les requêtes pour ce chemin</li></ul><h3 id=quest-ce-quun-httphandler->Qu&rsquo;est-ce qu&rsquo;un HttpHandler ?
<a class=anchor href=#quest-ce-quun-httphandler->#</a></h3><p><code>HttpHandler</code> est une interface fonctionnelle définie dans le package <code>com.sun.net.httpserver</code>. Elle ne contient qu&rsquo;une seule méthode abstraite : <code>void handle(HttpExchange exchange) throws IOException</code>. Cette méthode est appelée chaque fois qu&rsquo;une requête HTTP correspond au chemin associé au contexte.</p><p>L&rsquo;objet <code>HttpExchange</code> passé en paramètre représente l&rsquo;échange complet entre le client et le serveur. Il encapsule :</p><ul><li>La requête entrante (méthode HTTP, URI, en-têtes, corps)</li><li>La réponse sortante (code de statut, en-têtes, corps)</li></ul><h4 id=méthodes-importantes-de-httpexchange>Méthodes importantes de HttpExchange
<a class=anchor href=#m%c3%a9thodes-importantes-de-httpexchange>#</a></h4><ul><li><code>getRequestMethod()</code> : Retourne la méthode HTTP (GET, POST, etc.)</li><li><code>getRequestURI()</code> : Retourne l&rsquo;URI de la requête</li><li><code>getRequestHeaders()</code> : Retourne les en-têtes de la requête sous forme de map</li><li><code>getRequestBody()</code> : Retourne un InputStream pour lire le corps de la requête</li><li><code>sendResponseHeaders(int statusCode, long responseLength)</code> : Envoie les en-têtes de réponse avec le code de statut</li><li><code>getResponseBody()</code> : Retourne un OutputStream pour écrire le corps de la réponse</li><li><code>getResponseHeaders()</code> : Retourne les en-têtes de réponse pour les modifier</li></ul><h4 id=exemple-dutilisation>Exemple d&rsquo;utilisation
<a class=anchor href=#exemple-dutilisation>#</a></h4><p>Dans l&rsquo;exemple ci-dessous, le gestionnaire vérifie la méthode de la requête et répond différemment selon qu&rsquo;il s&rsquo;agit d&rsquo;un GET ou d&rsquo;un POST :</p><p>Voici un exemple simple où nous créons un contexte pour le chemin &ldquo;/hello&rdquo; qui renvoie une réponse texte :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>com.sun.net.httpserver.HttpServer</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>com.sun.net.httpserver.HttpHandler</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>com.sun.net.httpserver.HttpExchange</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.OutputStream</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.net.InetSocketAddress</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>ExempleServeurContext</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>IOException<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>port<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>8000<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>HttpServer<span style=color:#fff> </span>serveur<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>HttpServer<span style=color:#1f2328>.</span><span style=color:#1f2328>create</span><span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>InetSocketAddress<span style=color:#1f2328>(</span>port<span style=color:#1f2328>),</span><span style=color:#fff> </span>0<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#57606a>// Contexte pour la racine - sert les fichiers statiques</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>serveur<span style=color:#1f2328>.</span><span style=color:#1f2328>createContext</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;/&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span>SimpleFileServer<span style=color:#1f2328>.</span><span style=color:#1f2328>createFileHandler</span><span style=color:#1f2328>(</span>Path<span style=color:#1f2328>.</span><span style=color:#1f2328>of</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;.&#34;</span><span style=color:#1f2328>).</span><span style=color:#1f2328>toAbsolutePath</span><span style=color:#1f2328>()));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#57606a>// Contexte personnalisé pour /hello</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>serveur<span style=color:#1f2328>.</span><span style=color:#1f2328>createContext</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;/hello&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>HttpHandler<span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#0550ae>@Override</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>handle</span><span style=color:#1f2328>(</span>HttpExchange<span style=color:#fff> </span>exchange<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>IOException<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>String<span style=color:#fff> </span>method<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>getRequestMethod</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>String<span style=color:#fff> </span>response<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;GET&#34;</span><span style=color:#1f2328>.</span><span style=color:#1f2328>equals</span><span style=color:#1f2328>(</span>method<span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>response<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;Hello, World! (via GET)&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;POST&#34;</span><span style=color:#1f2328>.</span><span style=color:#1f2328>equals</span><span style=color:#1f2328>(</span>method<span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>response<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;Hello, World! (via POST)&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>response<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;Méthode non supportée: &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>method<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>sendResponseHeaders</span><span style=color:#1f2328>(</span>405<span style=color:#1f2328>,</span><span style=color:#fff> </span>response<span style=color:#1f2328>.</span><span style=color:#1f2328>length</span><span style=color:#1f2328>());</span><span style=color:#fff> </span><span style=color:#57606a>// Method Not Allowed</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>OutputStream<span style=color:#fff> </span>os<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>getResponseBody</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>os<span style=color:#1f2328>.</span><span style=color:#1f2328>write</span><span style=color:#1f2328>(</span>response<span style=color:#1f2328>.</span><span style=color:#1f2328>getBytes</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>os<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#cf222e>return</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>sendResponseHeaders</span><span style=color:#1f2328>(</span>200<span style=color:#1f2328>,</span><span style=color:#fff> </span>response<span style=color:#1f2328>.</span><span style=color:#1f2328>length</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>OutputStream<span style=color:#fff> </span>os<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>getResponseBody</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>os<span style=color:#1f2328>.</span><span style=color:#1f2328>write</span><span style=color:#1f2328>(</span>response<span style=color:#1f2328>.</span><span style=color:#1f2328>getBytes</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>os<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>});</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>serveur<span style=color:#1f2328>.</span><span style=color:#1f2328>start</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Serveur démarré sur le port &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>port<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><h3 id=gestion-des-méthodes-http-get-et-put>Gestion des méthodes HTTP GET et PUT
<a class=anchor href=#gestion-des-m%c3%a9thodes-http-get-et-put>#</a></h3><p>Dans un serveur web, il est essentiel de gérer différentes méthodes HTTP pour implémenter des API RESTful. Les méthodes GET et PUT sont couramment utilisées :</p><ul><li><strong>GET</strong> : Récupère des données depuis le serveur sans les modifier. Idempotente et mise en cache possible.</li><li><strong>PUT</strong> : Met à jour une ressource existante ou en crée une nouvelle à l&rsquo;emplacement spécifié. Idempotente.</li></ul><h4 id=exemple-dimplémentation>Exemple d&rsquo;implémentation
<a class=anchor href=#exemple-dimpl%c3%a9mentation>#</a></h4><p>Voici un exemple de gestionnaire qui traite les requêtes GET et PUT pour un chemin &ldquo;/api/data&rdquo; :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>serveur<span style=color:#1f2328>.</span><span style=color:#1f2328>createContext</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;/api/data&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>HttpHandler<span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#0550ae>@Override</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>handle</span><span style=color:#1f2328>(</span>HttpExchange<span style=color:#fff> </span>exchange<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>IOException<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>method<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>getRequestMethod</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>response<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>switch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>method<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>case</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;GET&#34;</span><span style=color:#1f2328>:</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#57606a>// Simuler la récupération de données</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>response<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;{\&#34;message\&#34;: \&#34;Données récupérées\&#34;, \&#34;data\&#34;: \&#34;valeur\&#34;}&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>getResponseHeaders</span><span style=color:#1f2328>().</span><span style=color:#1f2328>set</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Content-Type&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;application/json&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>sendResponseHeaders</span><span style=color:#1f2328>(</span>200<span style=color:#1f2328>,</span><span style=color:#fff> </span>response<span style=color:#1f2328>.</span><span style=color:#1f2328>length</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>break</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>case</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;PUT&#34;</span><span style=color:#1f2328>:</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#57606a>// Lire le corps de la requête pour les données à mettre à jour</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>InputStream<span style=color:#fff> </span>is<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>getRequestBody</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>String<span style=color:#fff> </span>requestBody<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>String<span style=color:#1f2328>(</span>is<span style=color:#1f2328>.</span><span style=color:#1f2328>readAllBytes</span><span style=color:#1f2328>(),</span><span style=color:#fff> </span>StandardCharsets<span style=color:#1f2328>.</span><span style=color:#1f2328>UTF_8</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>is<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#57606a>// Traiter les données (ici, simplement les afficher)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Données reçues : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>requestBody<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>response<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;{\&#34;message\&#34;: \&#34;Données mises à jour\&#34;, \&#34;received\&#34;: &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>requestBody<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;}&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>getResponseHeaders</span><span style=color:#1f2328>().</span><span style=color:#1f2328>set</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Content-Type&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;application/json&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>sendResponseHeaders</span><span style=color:#1f2328>(</span>200<span style=color:#1f2328>,</span><span style=color:#fff> </span>response<span style=color:#1f2328>.</span><span style=color:#1f2328>length</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>break</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>default</span><span style=color:#1f2328>:</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>response<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;{\&#34;error\&#34;: \&#34;Méthode non supportée\&#34;}&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>sendResponseHeaders</span><span style=color:#1f2328>(</span>405<span style=color:#1f2328>,</span><span style=color:#fff> </span>response<span style=color:#1f2328>.</span><span style=color:#1f2328>length</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>break</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>OutputStream<span style=color:#fff> </span>os<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>exchange<span style=color:#1f2328>.</span><span style=color:#1f2328>getResponseBody</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>os<span style=color:#1f2328>.</span><span style=color:#1f2328>write</span><span style=color:#1f2328>(</span>response<span style=color:#1f2328>.</span><span style=color:#1f2328>getBytes</span><span style=color:#1f2328>(</span>StandardCharsets<span style=color:#1f2328>.</span><span style=color:#1f2328>UTF_8</span><span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>os<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#1f2328>});</span><span style=color:#fff>
</span></span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><div class="flex flex-wrap justify-between"><a href=/orientee_donnees/docs/modules/e_module_services/ class="flex align-center float-left book-icon"><img src=/orientee_donnees/svg/backward.svg alt=Previous title="Module Services et YAML">
<span>Module Services et YAML</span>
</a><a href=/orientee_donnees/docs/modules/e_module_services/base64/ class="flex align-center float-right book-icon"><span>Base64</span>
<img src=/orientee_donnees/svg/forward.svg alt=Next title=Base64></a></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#gestion-des-chemins-avec-createcontext>Gestion des chemins avec createContext</a><ul><li><a href=#quest-ce-quun-httphandler->Qu&rsquo;est-ce qu&rsquo;un HttpHandler ?</a></li><li><a href=#gestion-des-méthodes-http-get-et-put>Gestion des méthodes HTTP GET et PUT</a></li></ul></li></ul></nav></div></aside></main></body></html>