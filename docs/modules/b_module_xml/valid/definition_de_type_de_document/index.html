<!doctype html><html lang=fr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  Définition de type de document
  #


  Document XML valide
  #

Nous avons vu ce qu&rsquo;était un document XML bien formé : un seul élément-racine, les éléments ne se chevauchent pas, les noms XML ne commencent pas par un chiffre, et ainsi de suite. De plus, un document XML bien formé peut contenir n&rsquo;importe quel élément et dans n&rsquo;importe quel ordre, et tous les éléments peuvent contenir des attributs, et peu importe ceux-ci."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://lemire.github.io/orientee_donnees/docs/modules/b_module_xml/valid/definition_de_type_de_document/"><meta property="og:site_name" content="Programmation orientée-données"><meta property="og:title" content="Définition de type de document"><meta property="og:description" content="Définition de type de document # Document XML valide # Nous avons vu ce qu’était un document XML bien formé : un seul élément-racine, les éléments ne se chevauchent pas, les noms XML ne commencent pas par un chiffre, et ainsi de suite. De plus, un document XML bien formé peut contenir n’importe quel élément et dans n’importe quel ordre, et tous les éléments peuvent contenir des attributs, et peu importe ceux-ci."><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="docs"><title>Définition de type de document | Programmation orientée-données</title><link rel=icon href=/orientee_donnees/favicon.png><link rel=manifest href=/orientee_donnees/manifest.json><link rel=canonical href=https://lemire.github.io/orientee_donnees/docs/modules/b_module_xml/valid/definition_de_type_de_document/><link rel=stylesheet href=/orientee_donnees/book.min.a006656c8516e75b9916bf87553cdae09b7d022a0ef8c51fcafcb935e4e3d410.css integrity="sha256-oAZlbIUW51uZFr+HVTza4Jt9AioO+MUfyvy5NeTj1BA=" crossorigin=anonymous><script defer src=/orientee_donnees/fuse.min.js></script><script defer src=/orientee_donnees/fr.search.min.99054a0c2144e41298b08ffb8b4d42285d35a9335fa28686ab29257b865f6c69.js integrity="sha256-mQVKDCFE5BKYsI/7i01CKF01qTNfooaGqykle4ZfbGk=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/orientee_donnees/><img src=/orientee_donnees/favicon.png alt=Logo class=book-icon><span>Programmation orientée-données</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Rechercher aria-label=Rechercher maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><span>Modules</span><ul><li><input type=checkbox id=section-e0cc4658cb7e0b0785f48bc734a0d868 class=toggle>
<label for=section-e0cc4658cb7e0b0785f48bc734a0d868 class=flex><a href=/orientee_donnees/docs/modules/a_module_json/ class=flex-auto>Module JSON</a></label><ul><li><a href=/orientee_donnees/docs/modules/a_module_json/json/>JSON</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/geojson/>GeoJSON</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/markdown/>MarkDown</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/javascript/>JavaScript et JSON</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/jq/>Activité avec jq</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/gjson/>Google Gson</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/encodage_des_caracteres_unicode/>Encodage des caractères Unicode</a></li><li><a href=/orientee_donnees/docs/modules/a_module_json/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-5dba5cff8314754d322613989dda2ee4 class=toggle checked>
<label for=section-5dba5cff8314754d322613989dda2ee4 class=flex><a href=/orientee_donnees/docs/modules/b_module_xml/ class=flex-auto>Module XML</a></label><ul><li><input type=checkbox id=section-b0f20b451fe2916a31453d5cbda26a99 class=toggle>
<label for=section-b0f20b451fe2916a31453d5cbda26a99 class=flex><a role=button class=flex-auto>Les fondements</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/introduction_a_xml/>Introduction à XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/principes_du_xml/>Principes du XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/creer_un_fichier_xml/>Créer un fichier XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/mise_en_forme_du_xml/>Mise en forme du XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/laboratoire_sur_la_structure_en_arbre_des_documents_xml/>Laboratoire sur la structure en arbre des documents XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/labo/>Vérificateur de XML bien formé</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/base/autoevaluation/>Autoévaluation XML</a></li></ul></li><li><input type=checkbox id=section-344b47eee8a14c6b3ccb143c1f5bf702 class=toggle checked>
<label for=section-344b47eee8a14c6b3ccb143c1f5bf702 class=flex><a role=button class=flex-auto>Validation</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/definition_de_type_de_document/ class=active>Définition de type de document</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/validation_de_documents_xml/>Validation de documents XML</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/autoevaluation_dtd/>Autoévaluation</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/valid/docx_microsoft_word/>Docx (Microsoft Word)</a></li></ul></li><li><input type=checkbox id=section-d96b044d241e9b77e9c0592b528dc057 class=toggle>
<label for=section-d96b044d241e9b77e9c0592b528dc057 class=flex><a role=button class=flex-auto>Espaces de nom</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/espaces/espace_de_nom/>Espace de noms</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/espaces/autoevaluation_adv/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-7677844365e3481ee5b7c1ca5bb4c38f class=toggle>
<label for=section-7677844365e3481ee5b7c1ca5bb4c38f class=flex><a role=button class=flex-auto>Exemples</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/le_fichier_pomxml_en_java/>Le fichier pom.xml en Java</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/le_fichier_sitemapxml/>Le fichier sitemap.xml</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/les_fichiers_csproj_en_c/>Les fichiers csproj en C#</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/rss/>Les formats RSS et Atom</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/three/>X3D</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/examples/le_fichier_androidmanifestxml/>Le fichier AndroidManifest.xml</a></li></ul></li><li><input type=checkbox id=section-3414f79d7e98c78ad1d3dbda25a1f55a class=toggle>
<label for=section-3414f79d7e98c78ad1d3dbda25a1f55a class=flex><a role=button class=flex-auto>RDF</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/introduction_au_rdf/>Introduction au RDF</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/applications_du_rdf/>Applications du RDF</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/autoevaluation_rdf/>Autoévaluation</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/rdf/sparql/>Activité SPARQL</a></li></ul></li><li><input type=checkbox id=section-fb1c5b6035fd6d3caf7148dac6057b07 class=toggle>
<label for=section-fb1c5b6035fd6d3caf7148dac6057b07 class=flex><a role=button class=flex-auto>Modèles de programmation</a></label><ul><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/dom/>DOM</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/javascript/>JavaScript et DOM</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/autoevaluation/>Autoévaluation DOM</a></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/programmation/jackson/>Activité JSON/XML avec Jackson</a></li></ul></li><li><a href=/orientee_donnees/docs/modules/b_module_xml/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-5d65d8b100e58c6d134cd4da58e1cd2c class=toggle>
<label for=section-5d65d8b100e58c6d134cd4da58e1cd2c class=flex><a href=/orientee_donnees/docs/modules/c_module_xslt/ class=flex-auto>Module XPath, XSLT, XQuery</a></label><ul><li><input type=checkbox id=section-7ac06c5c6cb170ae259ae8aaa0f2fa28 class=toggle>
<label for=section-7ac06c5c6cb170ae259ae8aaa0f2fa28 class=flex><a role=button class=flex-auto>XPath</a></label><ul><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_un_premier_laboratoire/>XPath : un premier laboratoire</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_approfondissement/>XPath : approfondissement</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_en_ligne_java/>XPath avec Java</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_second_laboratoire/>XPath : second laboratoire</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/autoevaluation_xpath/>Autoévaluation</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xpath/xpath_20_et_30/>XPath 2.0 et 3.0</a></li></ul></li><li><input type=checkbox id=section-f547d6e3d6ea0eaec3e702c4dfd2c47e class=toggle>
<label for=section-f547d6e3d6ea0eaec3e702c4dfd2c47e class=flex><a role=button class=flex-auto>XSLT</a></label><ul><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/introduction_au_xslt/>Introduction au XSLT</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_en_ligne/>XSLT en ligne</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_en_ligne_java/>XSLT avec Java</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/un_peu_plus_de_xslt_fonctionnement_de_base_template_et_value-of/>Un peu plus de XSLT : fonctionnement de base, template et value-of</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_valeurs_dattribut/>Les valeurs d’attribut</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_modulaire/>XSLT modulaire</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_noms_delements/>Les noms d’éléments</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/attribut_mode/>Attribut mode</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/la_fonction_generate-id/>La fonction generate-id</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_tests/>Les tests</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_boucles/>Les boucles</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/cles_et_aggregation/>Clés et aggrégation</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/generer_des_noeuds_dynamiquement/>Générer des noeuds dynamiquement</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/variables_et_parametres/>Variables et paramètres</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/mise_en_forme/>Mise en forme</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/espaces_de_noms/>Espaces de noms</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/les_axes/>Les axes</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/etude_dun_exemple_docbook/>Étude d’un exemple (DocBook)</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/laboratoire_xslt/>Laboratoire XSLT</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/laboratoire_xslt_avec_python_optionnel/>Laboratoire XSLT avec Python (optionnel)</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/xslt_20_et_30/>XSLT 2.0 et 3.0</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xslt/autoevaluation_xslt/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-b3c85205c7eb5b729c0be10ddbd24290 class=toggle>
<label for=section-b3c85205c7eb5b729c0be10ddbd24290 class=flex><a role=button class=flex-auto>XQuery</a></label><ul><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xquery/xquery/>XQuery</a></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/xquery/laboratoire_xquery_avec_python_optionnel/>Laboratoire XQuery avec Python (optionnel)</a></li></ul></li><li><a href=/orientee_donnees/docs/modules/c_module_xslt/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-2a04c3a72cdb954ae36ef63df297319a class=toggle>
<label for=section-2a04c3a72cdb954ae36ef63df297319a class=flex><a href=/orientee_donnees/docs/modules/d_module_html/ class=flex-auto>Module HTML, CSS, SVG, MathML</a></label><ul><li><a href=/orientee_donnees/docs/modules/d_module_html/xhtml/>XHTML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/html_5/>HTML 5</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/autoevaluation/>Autoévaluation HTML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/css/>CSS</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/css2/>CSS (partie 2)</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/css3/>CSS (partie 3)</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/laboratoire_css/>Laboratoire CSS</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/svg/>SVG</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/mathml/>MathML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/cssmathml/>Laboratoire CSS/MathML</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/autoevaluation_css/>Autoévaluation CSS</a></li><li><a href=/orientee_donnees/docs/modules/d_module_html/travail/>Travail noté</a></li></ul></li><li><input type=checkbox id=section-d04fad4b07d7c0c5b266f3694fc3c8af class=toggle>
<label for=section-d04fad4b07d7c0c5b266f3694fc3c8af class=flex><a href=/orientee_donnees/docs/modules/e_module_services/ class=flex-auto>Module Services et YAML</a></label><ul><li><a href=/orientee_donnees/docs/modules/e_module_services/serveurweb/>Serveur Web Java</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/base64/>Base64</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/asynchronous_javascript_and_xml_ajax/>Chargement XML/JSON en JavaScript</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/introservicesweb/>Introduction aux services web</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/serviceweb/>Création d'un service web</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/yaml/>YAML</a></li><li><a href=/orientee_donnees/docs/modules/e_module_services/travail/>Travail noté</a></li></ul></li></ul></li><li><input type=checkbox id=section-bfca035f077c4a3a8e327bb4e5d9433e class=toggle>
<label for=section-bfca035f077c4a3a8e327bb4e5d9433e class=flex><a role=button class=flex-auto>Contenu suppplémentaire</a></label><ul><li><a href=/orientee_donnees/docs/extra/glossaire/>Glossaire</a></li><li><a href=/orientee_donnees/docs/extra/pense-bete_xml/>Pense-bête XML</a></li><li><a href=/orientee_donnees/docs/extra/pense-bete_json/>Pense-bête JSON</a></li><li><a href=/orientee_donnees/docs/extra/pense-bete_yaml/>Pense-bête YAML</a></li><li><a href=/orientee_donnees/docs/extra/professeur/>Professeur</a></li></ul></li><li><a href=/orientee_donnees/docs/travail_integration/>Travail d'intégration</a></li><li><a href=/orientee_donnees/docs/evaluation/>Évaluation et feuille de route</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/orientee_donnees/svg/menu.svg class=book-icon alt=Menu></label><h3>Définition de type de document</h3><label for=toc-control><img src=/orientee_donnees/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#document-xml-valide>Document XML valide</a></li><li><a href=#normes-de-définition-de-type-de-document>Normes de définition de type de document</a></li><li><a href=#documents-valides-utilisant-la-norme-dtd>Documents valides utilisant la norme DTD</a></li><li><a href=#la-syntaxe-des-documents-dtd>La syntaxe des documents DTD</a></li><li><a href=#exemple-supplémentaire>Exemple supplémentaire</a></li><li><a href=#les-attributs>Les attributs</a></li><li><a href=#les-entités>Les entités</a></li><li><a href=#dtd-interne-et-externe>DTD interne et externe</a></li><li><a href=#les-entités-paramètres>Les entités paramètres</a></li><li><a href=#commentaires-dans-les-fichiers-dtd>Commentaires dans les fichiers DTD</a></li><li><a href=#une-comparaison-entre-relax-ng-et-dtd>Une comparaison entre Relax NG et DTD</a></li><li><a href=#une-approche-plus-modulaire>Une approche plus modulaire</a></li><li><a href=#définir-lélément-racine>Définir l&rsquo;élément-racine</a></li><li><a href=#définir-le-type-de-contenu-en-relax-ng>Définir le type de contenu en Relax NG</a></li><li><a href=#est-ce-quil-existe-un-outil-pour-passer-dun-format-à-lautre-dtd-relax-ng-xml-schema>Est-ce qu&rsquo;il existe un outil pour passer d&rsquo;un format à l&rsquo;autre (DTD, Relax NG, XML Schema)?</a></li><li><a href=#est-ce-quun-document-dtd-est-un-document-xml>Est-ce qu&rsquo;un document DTD est un document XML?</a></li><li><a href=#pourquoi-est-ce-quil-nest-pas-suffisant-dutiliser-des-documents-bien-formés-à-quoi-sert-la-validation>Pourquoi est-ce qu&rsquo;il n&rsquo;est pas suffisant d&rsquo;utiliser des documents bien formés? À quoi sert la validation?</a></li><li><a href=#est-ce-vraiment-nécessaire-davoir-des-documents-valides-est-ce-que-je-dois-vraiment-toujours-travailler-avec-des-fichiers-dtd-xml-schema-ou-relax-ng>Est-ce vraiment nécessaire d&rsquo;avoir des documents valides? Est-ce que je dois vraiment toujours travailler avec des fichiers DTD, XML Schema ou Relax NG?</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=définition-de-type-de-document>Définition de type de document
<a class=anchor href=#d%c3%a9finition-de-type-de-document>#</a></h1><h2 id=document-xml-valide>Document XML valide
<a class=anchor href=#document-xml-valide>#</a></h2><p>Nous avons vu ce qu&rsquo;était un document XML bien formé : un seul élément-racine, les éléments ne se chevauchent pas, les noms XML ne commencent pas par un chiffre, et ainsi de suite. De plus, un document XML bien formé peut contenir n&rsquo;importe quel élément et dans n&rsquo;importe quel ordre, et tous les éléments peuvent contenir des attributs, et peu importe ceux-ci.</p><p>En pratique, il est souvent suffisant pour les documents XML d&rsquo;être bien formés, mais il arrive qu&rsquo;on veuille imposer des contraintes supplémentaires aux éléments et attributs pouvant être utilisés. Par exemple, un élément « étudiant » pourrait posséder un numéro d&rsquo;étudiant, mais pas l&rsquo;inverse : un élément « numéro d&rsquo;étudiant » ne pouvant contenir qu&rsquo;un numéro et pas d&rsquo;autres éléments. On peut aussi vouloir contraindre le contenu d&rsquo;un document XML pour des raisons d&rsquo;interopérabilité. Par exemple, si un groupe d&rsquo;experts s&rsquo;entendent sur un format XML pour un type de données, il est utile de pouvoir vérifier si un fichier XML donné correspond bien à ce sur quoi on s&rsquo;est entendu. Un document XML qui est bien formé et qui respecte les contraintes définissant son type de document est dit valide (ou parfois valable).</p><p>En d&rsquo;autres mots, un document XML qui est bien formé et qui, en plus, satisfait aux contraintes dictant quels éléments et attributs peuvent être utilisés, et dans quel ordre et avec quel contenu, est dit valide.</p><h2 id=normes-de-définition-de-type-de-document>Normes de définition de type de document
<a class=anchor href=#normes-de-d%c3%a9finition-de-type-de-document>#</a></h2><p>Il y a plusieurs façons de définir des types de documents XML. L&rsquo;approche la plus répandue, la plus ancienne et la plus simple, est la norme de définition de type de document (DTD). Les deux autres possibilités émergentes les plus répandues sont XML Schema et Relax NG.</p><p>On fait généralement deux reproches à l&rsquo;approche DTD : un document DTD n&rsquo;est pas du XML et la norme n&rsquo;est pas assez riche pour spécifier le contenu des documents XML avec finesse. En effet, L&rsquo;approche DTD ne permet pas de déclarer qu&rsquo;un contenu textuel doit être une date ou un nombre, et il n&rsquo;y a pas de support pour les espaces de noms, sujet que nous traiterons plus loin dans ce module.</p><p>D&rsquo;un autre côté, la norme DTD est très répandue et tous les logiciels qui supportent XML supportent maintenant cette norme, incluant Java, Google Chrome et Firefox. Les formats comme XHTML 2.0 sont toujours publiés avec une spécification DTD. Les autres possibilités, comme XML Schema, Relax NG, Schematron et Examplotron, sont moins bien supportées.</p><p>La norme XML Schema permet de définir avec une grande finesse des types de données comme une date ou un code de langue (« fr », « en »). Cette norme est très utile si on veut spécifier avec beaucoup de détail le format de nos documents XML. Comme vous pouvez le constater dans l&rsquo;exemple suivant, la norme XML Schema permet non seulement de spécifier le nom des éléments et des attributs (« shipTo », « billTo », « comment », « items », « orderDate »), mais aussi leur type (« xsd:string », « xsd:decimal », « xsd:date »).</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#0550ae>&lt;xs:complexType</span> <span style=color:#1f2328>name=</span><span style=color:#0a3069>&#34;PurchaseOrderType&#34;</span><span style=color:#0550ae>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>&lt;xs:sequence&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#0550ae>&lt;xs:element</span> <span style=color:#1f2328>name=</span><span style=color:#0a3069>&#34;shipTo&#34;</span> <span style=color:#1f2328>type=</span><span style=color:#0a3069>&#34;USAddress&#34;</span><span style=color:#0550ae>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#0550ae>&lt;xs:element</span> <span style=color:#1f2328>name=</span><span style=color:#0a3069>&#34;billTo&#34;</span> <span style=color:#1f2328>type=</span><span style=color:#0a3069>&#34;USAddress&#34;</span><span style=color:#0550ae>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#0550ae>&lt;xs:element</span> <span style=color:#1f2328>ref=</span><span style=color:#0a3069>&#34;comment&#34;</span> <span style=color:#1f2328>minOccurs=</span><span style=color:#0a3069>&#34;0&#34;</span><span style=color:#0550ae>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#0550ae>&lt;xs:element</span> <span style=color:#1f2328>name=</span><span style=color:#0a3069>&#34;items&#34;</span>  <span style=color:#1f2328>type=</span><span style=color:#0a3069>&#34;Items&#34;</span><span style=color:#0550ae>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>&lt;/xs:sequence&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>&lt;xs:attribute</span> <span style=color:#1f2328>name=</span><span style=color:#0a3069>&#34;orderDate&#34;</span> <span style=color:#1f2328>type=</span><span style=color:#0a3069>&#34;xs:date&#34;</span><span style=color:#0550ae>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#0550ae>&lt;/xs:complexType&gt;</span>
</span></span></code></pre></div><p>La norme XML Schema est supportée en Java depuis la version 1.5. Il n&rsquo;est pas nécessaire d&rsquo;utiliser une librairie spécialisée. Elle est cependant sujette à des critiques sévères de la part des experts en XML tels que Tim Bray (co-inventeur du XML) qui écrivait en novembre 2006 sur son blogue :</p><p>Everybody who actually touches the technology has known the truth for years, and it&rsquo;s time to stop sweeping it under the rug. W3C XML Schemas (XSD) suck. They are hard to read, hard to write, hard to understand, have interoperability problems, and are unable to describe lots of things you want to do all the time in XML. Schemas based on Relax NG, also known as ISO Standard 19757, are easy to write, easy to read, are backed by a rigorous formalism for interoperability, and can describe immensely more different XML constructs.</p><p>En somme, XML Schema est trop difficile à utiliser et à comprendre. Tim Bray, ainsi que de nombreux autres experts, préconisent plutôt l&rsquo;utilisation de Relax NG. Cette norme, comme XML Schema, possède plusieurs avantages sur la norme DTD : elle permet de spécifier des types de données (comme une date ou un nombre), supporte les espaces de noms, etc. De plus, la norme Relax NG est plus élégante techniquement et parfois plus simple que la norme XML Schema. Des formats importants comme l&rsquo;Open Document Format, DocBook (format XML), TEI, XHTML et Atom sont définis par RelaxNG plutôt que par XML Schema. (Une définition XML Schema sera sans doute produite pour le format XHTML 2.0.) Relax NG dispose aussi d&rsquo;une syntaxe « compacte », qui n&rsquo;est pas en XML contrairement au format par défaut de Relax NG, et que nous allons utiliser dans nos exemples. Voici un exemple de Relax NG :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>element addressBook {
</span></span><span style=display:flex><span>  element card {
</span></span><span style=display:flex><span>    element name { text }
</span></span><span style=display:flex><span>    element email { text }
</span></span><span style=display:flex><span>  }*
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Cet exemple spécifie que le document XML doit avoir comme élément racine un élément « addressBook », contenant zéro ou plus éléments « card ». Un élément « card » doit obligatoirement contenir un élément « name » suivi d&rsquo;un élément « email ».</p><p>Tout en étant plus élégante que la norme DTD, le format Relax NG est plus limitée que XML Schema puisqu&rsquo;il ne permet que quatre types de contraintes sur le nombre d&rsquo;occurences d&rsquo;un élément (zeroOrMore comme dans notre exemple, optional, un nombre précis (comme une seule fois) et oneOrMore) alors que le XML Schema permet des contraintes beaucoup plus spécifiques. Cependant, la richesse de la norme XML Schema a un coût : il s&rsquo;agit d&rsquo;une norme beaucoup plus difficile à utiliser et à apprendre en pratique.</p><p>On peut passer automatiquement d&rsquo;un document DTD à un document XML Schema ou Relax NG avec un outil comme NekoDTD.</p><p>En somme, la norme DTD n&rsquo;est sans doute pas ce qui se fait de mieux, mais c&rsquo;est de loin la norme la plus utilisée historiquement, et c&rsquo;est celle que nous allons étudier en détail. Pour certaines applications, la norme DTD demeure supérieure aux alternatives mentionnées précédemment: la définition d&rsquo;entités n&rsquo;est pas possible en XML Schema ou Relax NG, par exemple. Si vous maîtrisez la norme DTD, vous n&rsquo;aurez aucun mal à utiliser une autre norme comme Relax NG puisque les principes essentiels sont les mêmes.</p><h2 id=documents-valides-utilisant-la-norme-dtd>Documents valides utilisant la norme DTD
<a class=anchor href=#documents-valides-utilisant-la-norme-dtd>#</a></h2><p>Un document valide commence par une déclaration XML, comme celle qui suit :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;?xml version=&#34;1.0&#34; encoding=&#34;ISO-8859-1&#34; standalone=&#34;no&#34; ?&gt;</span>
</span></span></code></pre></div><p>Elle est suivie d&rsquo;une déclaration de type de document sous la forme <!doctype html>, où l&rsquo;on remplace les premiers trois points par le nom XML de l&rsquo;élément-racine que le document doit avoir, et les deuxièmes trois points par une URL vers le document DTD. L&rsquo;URL peut être absolue, comme « <a href=http://www.google.com/mydtd.dtd>http://www.google.com/mydtd.dtd</a> », ou locale, comme « madtd.dtd » ou « ../dtd/madtd.dtd ». Dans le second cas, il faut que le fichier DTD soit sur le disque, à l&rsquo;endroit indiqué par rapport au fichier XML. Ainsi, dans l&rsquo;exemple « ../dtd/madtd.dtd », il faudrait que le fichier « madtd.dtd» soit dans le répertoire « dtd », voisin du répertoire où se trouve le fichier XML. Ainsi, immédiatement après la déclaration XML, on pourrait avoir le texte suivant :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!DOCTYPE baliseracine SYSTEM &#34;http://www.mondomain.com/madtd.dtd&#34;&gt;</span>
</span></span></code></pre></div><p>où « baliseracine » est le nom de l&rsquo;élément-racine du document, alors que le chemin « <a href=http://www.mondomain.com/madtd.dtd>http://www.mondomain.com/madtd.dtd</a>» nous dit où trouver le document DTD.</p><p>Rappelons que l&rsquo;attribut « encoding » nous donne le jeu des caractères. On choisit souvent « ISO-8859-1 », mais par défaut, XML utilise un jeu de caractères Unicode (UTF-8). Si le contenu est en français (avec les accents), il est essentiel que le fichier soit enregistré avec le jeu de caractères déclaré sinon on pourra constater des messages d&rsquo;erreurs ou des accents manquants. L&rsquo;attribut « standalone » permet au logiciel de décider, s&rsquo;il est nécessaire, d&rsquo;aller chercher la DTD externe avant de lire le fichier XML, même si, très souvent, un logiciel tel Mozilla Firefox ignore la consigne et ne va pas chercher la DTD externe. En gros, s&rsquo;il y a une DTD externe, on utilisera l&rsquo;attribut « standalone=&ldquo;no&rdquo; », autrement on utilise « standalone=&ldquo;yes&rdquo; ».</p><h2 id=la-syntaxe-des-documents-dtd>La syntaxe des documents DTD
<a class=anchor href=#la-syntaxe-des-documents-dtd>#</a></h2><p>Les documents DTD contiennent des instructions de la forme . Bien que celle-ci ait l&rsquo;apparence d&rsquo;une balise XML, ce n&rsquo;est pas du XML. Dans une instruction, on met d&rsquo;abord un nom XML qui correspond à un nom d&rsquo;élément : par exemple, l&rsquo;instruction « » définira ce qui peut être contenu dans un élément de nom « montant ». Tout ce qui suit le nom de l&rsquo;élément dicte ce que l&rsquo;élément peut contenir. Le plus souvent, on place la description du contenu entre parenthèses (« »), sauf pour les cas particuliers (« ANY » et « EMPTY ») définis plus loin. De façon courante, on définit le contenu d&rsquo;un élément par une liste de noms XML, correspondant à des noms d&rsquo;élément et séparés par des virgules. Par exemple, l&rsquo;instruction « » nous informe qu&rsquo;un élément « montant » doit contenir un élément « devise » suivi d&rsquo;un élément « valeur ». Notons que l&rsquo;ordre des éléments importe et que les instructions « » et « » ne sont pas équivalentes.</p><p>Bien qu&rsquo;on ne puisse exprimer toutes les possibilités, la syntaxe DTD permet tout de même de spécifier un grand nombre de règles. Par exemple, le symbole « ? » permet de spécifier qu&rsquo;un élément peut être présent ou non (élément optionnel). Ainsi, l&rsquo;instruction « » signifie que l&rsquo;élément « montant » peut contenir un élément « devise » (ou non) et doit contenir un élément « valeur ». Si jamais l&rsquo;élément « devise » apparaît, il doit apparaître avant l&rsquo;élément « valeur ». Si jamais on veut qu&rsquo;un élément soit optionnel et que, s&rsquo;il apparaît, il puisse apparaître plus d&rsquo;une fois, on utilise le symbole « * ». Ainsi, l&rsquo;instruction « » signifie qu&rsquo;on peut avoir zéro, un ou plusieurs éléments « devise », puis un élément « valeur ». De la même façon, le symbole « + » est utilisé pour spécifier qu&rsquo;un élément doit être présent, mais peut apparaître plus d&rsquo;une fois.</p><p>Au lieu d&rsquo;utiliser la virgule, on peut utiliser le symbole « | » pour spécifier qu&rsquo;un élément ou un autre peut apparaître. Ainsi, l&rsquo;instruction « » signifie que l&rsquo;élément « montant » peut contenir soit l&rsquo;élément « devise », soit l&rsquo;élément « valeur » (l&rsquo;un ou l&rsquo;autre, mais pas les deux ou aucun des deux). Finalement, on peut combiner le tout; par exemple, l&rsquo;instruction « » signifie que l&rsquo;élément « montant » peut contenir au moins un élément « devise » (et rien d&rsquo;autre) ou alors, aucun, 1 ou plusieurs éléments « valeur ».</p><p>Si jamais on veut qu&rsquo;un élément puisse contenir du texte, on utilise le terme technique « #PCDATA » dans l&rsquo;instruction DTD. Par exemple, l&rsquo;instruction « » signifie que l&rsquo;élément « montant » contient du texte et seulement du texte (pas d&rsquo;éléments). Supposons maintenant qu&rsquo;on veut permettre du contenu mixte, comme dans l&rsquo;exemple qui suit :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#0550ae>&lt;mixte&gt;</span> du texte et <span style=color:#0550ae>&lt;important&gt;</span>un élément<span style=color:#0550ae>&lt;/important&gt;</span> <span style=color:#0550ae>&lt;/mixte&gt;</span>
</span></span></code></pre></div><p>On pourrait penser que l&rsquo;instruction « » permettra du texte ou des éléments « important », et c&rsquo;est vrai; mais elle permet l&rsquo;un (juste du texte) ou l&rsquo;autre (juste un élément « important »), mais pas un mélange des deux. Pour pouvoir obtenir le résultat désiré, soit un mélange d&rsquo;éléments « important » et de texte, il faut permettre la répétition du choix, comme dans l&rsquo;instruction « ». Il s&rsquo;agit de la seule façon de spécifier qu&rsquo;on permet un mélange de texte et d&rsquo;éléments (contenu mixte).</p><p>Voyons un autre exemple de contenu mixte. Considérons l&rsquo;instruction « ». Ce qu&rsquo;elle signifie exactement, c&rsquo;est que les éléments « montant » peuvent contenir un mélange de texte et des éléments « devise », comme l&rsquo;exemple qui suit :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#0550ae>&lt;montant&gt;</span>10 $ et <span style=color:#0550ae>&lt;devise&gt;</span>dollars<span style=color:#0550ae>&lt;/devise&gt;&lt;/montant&gt;</span>
</span></span></code></pre></div><p>On peut aussi utiliser « ANY » pour spécifier qu&rsquo;un élément peut contenir n&rsquo;importe quoi (n&rsquo;importe quelle séquence d&rsquo;éléments déclarés dans la DTD et du texte) ou « EMPTY » pour spécifier qu&rsquo;un élément doit être vide (sans même un seul espace). C&rsquo;est le seul cas où l&rsquo;on n&rsquo;utilise pas de parenthèses lors de la définition du contenu, comme dans ces exemples : et .</p><p>Un document DTD prendra donc la forme d&rsquo;un fichier en format texte contenant une suite d&rsquo;instructions comme :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT lettre (#PCDATA|personne)* &gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT personne (age,nom) &gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT age (#PCDATA) &gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT nom (#PCDATA) &gt;</span>
</span></span></code></pre></div><p>Notez qu&rsquo;on écrit rarement de nouvelles DTD : dans un domaine particulier, il existera souvent des DTD déjà utilisées; sinon, on fera l&rsquo;effort de les créer, mais qu&rsquo;une seule fois. L&rsquo;important demeure toutefois de pouvoir lire et comprendre les DTD.</p><h2 id=exemple-supplémentaire>Exemple supplémentaire
<a class=anchor href=#exemple-suppl%c3%a9mentaire>#</a></h2><p>Pour s&rsquo;assurer de bien comprendre, voyons un autre exemple :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT lettre (#PCDATA|personne)* &gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT personne (age,nom) &gt;</span>
</span></span></code></pre></div><p>Cette DTD nous spécifie que l&rsquo;élément « lettre » contient du mélange de texte et d&rsquo;éléments « personne » (contenu mixte), alors que l&rsquo;élément « personne » doit contenir un élément « age », suivi d&rsquo;un élément « nom ».</p><p>Par exemple, ce document XML serait valide :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#0550ae>&lt;lettre&gt;</span> Bonjour <span style=color:#0550ae>&lt;personne&gt;&lt;age&gt;</span>30<span style=color:#0550ae>&lt;/age&gt;&lt;nom&gt;</span>Jean<span style=color:#0550ae>&lt;/nom&gt;&lt;/personne&gt;</span> <span style=color:#0550ae>&lt;/lettre&gt;</span>
</span></span></code></pre></div><p>Assurez-vous de bien comprendre pourquoi ce document est valide avant de continuer.</p><h2 id=les-attributs>Les attributs
<a class=anchor href=#les-attributs>#</a></h2><p>Par défaut, aucun élément n&rsquo;est autorisé à avoir un attribut. Pour permettre d&rsquo;ajouter un attribut à un élément, il faut une instruction de la forme qui spécifie que l&rsquo;élément recipiendaire peut avoir un attribut « age ». On permet généralement aux valeurs d&rsquo;attribut de contenir n&rsquo;importe quel texte, ce qu&rsquo;on représente par « CDATA ». Hormis le contenu, il existe deux types d&rsquo;attributs : les attributs obligatoires (« #REQUIRED ») et les attributs optionnels (« #IMPLIED »). Par exemple, l&rsquo;instruction « » signifie qu&rsquo;on peut (ou pas) accorder à un élément « recipiendaire » un attribut nommé « age » pouvant contenir n&rsquo;importe quel texte. Si l&rsquo;on désire que l&rsquo;attribut soit obligatoire, on utilise une instruction comme « ».</p><p>Si l&rsquo;on veut permettre à un élément d&rsquo;avoir plusieurs attributs, on peut le faire en utilisant plusieurs instructions comme dans « »; on peut aussi combiner les instructions dans une seule : « ». Cependant, il n&rsquo;est pas possible de spécifier l&rsquo;ordre dans lequel les attributs doivent apparaître, les instructions « » et « » sont équivalentes.</p><p>L&rsquo;attribut « xml:lang » utilisé pour définir la langue d&rsquo;un texte, peut être déclaré comme ceci : « ». L&rsquo;attribut xml:space peut être déclaré comme ceci : « ».</p><p>On peut également spécifier qu&rsquo;un élément donné a toujours un attribut donné (indiqué ou non dans le XML) comme ceci : «». Dans ce dernier exemple, tous les éléments « recipiendaire » ont l&rsquo;attribut « age=&ldquo;40 ans&rdquo; », même si on omet de l&rsquo;indiquer dans la balise de départ de l&rsquo;élément « recipiendaire ».</p><p>Plus simplement, on peut spécifier une valeur par défaut qui ne prendra effet que si l&rsquo;on n&rsquo;a pas explicitement indiqué l&rsquo;attribut. Par exemple, l&rsquo;instruction « » signifie que l&rsquo;élément « recipiendaire » aura l&rsquo;attribut « age=&ldquo;40 ans&rdquo; », à moins qu&rsquo;on ne spécifie autre chose dans le XML.</p><p>Il peut être utile de donner une liste de valeurs que pourra prendre un attribut. Par exemple, une pièce de monnaie est soit sur « face », soit sur « pile » : il n&rsquo;y a que deux choix. Si la liste de choix est composée de textes sans espace ou ponctuation, sauf la barre du soulignement ( _ ), le trait d&rsquo;union ( - ) et le point ( . ), alors on peut faire une énumération comme dans l&rsquo;exemple suivant : « ». On peut aussi spécifier une valeur par défaut, si l&rsquo;on suppose, jusqu&rsquo;à preuve du contraire, que la pièce est dans la position « face », comme ceci « »</p><p>On peut également spécifier qu&rsquo;un attribut servira à identifier un élément de façon unique. Pour ce faire, on utilise une instruction comme « ». Il n&rsquo;est pas possible, pour deux attributs de type ID, d&rsquo;avoir la même valeur dans un même document XML. En somme, si l&rsquo;on donne une valeur « ID », elle devrait correspondre de façon unique à un élément et un seul. Un attribut de type « ID » doit avoir comme valeur un « nom XML », c&rsquo;est-à-dire un texte sans espace ou ponctuation, sauf la barre du soulignement ( _ ), le trait d&rsquo;union ( - ) et le point ( . ), et qui ne commence pas par un chiffre, un trait d&rsquo;union ou un point.</p><p>On peut faire référence aux attributs de type « ID » avec des attributs de type « IDREF ». La valeur d&rsquo;un attribut « IDREF » doit non seulement être un nom XML, mais doit aussi avoir un attribut de type « ID » qui possède cette même valeur quelque part dans le document XML. Par exemple, si on a l&rsquo;instruction « », on pourra ensuite faire référence à l&rsquo;élément ayant une valeur d&rsquo;attribut « code » particulière, avec une instruction comme « ».</p><p>Dans ce contexte, le document XML qui suit n&rsquo;est pas valide :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#0550ae>&lt;recipiendaire</span> <span style=color:#1f2328>code=</span><span style=color:#0a3069>&#34;123&#34;</span><span style=color:#0550ae>&gt;</span>...<span style=color:#0550ae>&lt;/recipiendaire&gt;</span>
</span></span><span style=display:flex><span><span style=color:#0550ae>&lt;mauvaispayeur</span> <span style=color:#1f2328>code=</span><span style=color:#0a3069>&#34;456&#34;</span><span style=color:#0550ae>&gt;</span>...<span style=color:#0550ae>&lt;/mauvaispayeur&gt;</span>
</span></span></code></pre></div><p>Par contre, l&rsquo;exemple qui suit est valide :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#0550ae>&lt;recipiendaire</span> <span style=color:#1f2328>code=</span><span style=color:#0a3069>&#34;123&#34;</span><span style=color:#0550ae>&gt;</span>...<span style=color:#0550ae>&lt;/recipiendaire&gt;</span>
</span></span><span style=display:flex><span><span style=color:#0550ae>&lt;mauvaispayeur</span> <span style=color:#1f2328>code=</span><span style=color:#0a3069>&#34;123&#34;</span><span style=color:#0550ae>&gt;</span>...<span style=color:#0550ae>&lt;/mauvaispayeur&gt;</span>
</span></span></code></pre></div><p>Il existe d&rsquo;autres types d&rsquo;attributs, mais ils sont peu utilisés.</p><h2 id=les-entités>Les entités
<a class=anchor href=#les-entit%c3%a9s>#</a></h2><p>Vous vous rappelez sans doute que le XML définit quelques entités par défaut, « &lt; », par exemple. On peut toutefois définir ses propres entités avec une instruction DTD comme celle-ci :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ENTITY monentite &#34;Introduction à XML&#34;&gt;</span>
</span></span></code></pre></div><p>La signification de ce dernier exemple, c&rsquo;est que partout où « &amp;monentite; » apparaît dans un document, il sera remplacé par le texte « Introduction à XML ». Ce remplacement s&rsquo;applique aussi aux valeurs par défaut des attributs de la DTD.</p><p>On peut mettre des éléments et des attributs dans une entité comme dans cet exemple :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ENTITY monentite &#34;&lt;paragraphe&gt;</span>texte<span style=color:#0550ae>&lt;/paragraphe&gt;</span>&#34;&gt;
</span></span></code></pre></div><p>Il n&rsquo;est cependant pas permis de ne mettre qu&rsquo;une partie d&rsquo;un élément comme ceci :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ENTITY monentite &#34;&lt;paragraphe&gt;</span>&#34;&gt;
</span></span></code></pre></div><p>Une entité peut faire appel à une autre entité :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ENTITY monentite1 &#34;&amp;monentite2;&#34;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!ENTITY monentite2 &#34;texte&#34;&gt;</span>
</span></span></code></pre></div><p>Une entité ne peut cependant pas faire appel à elle même de manière récursive, directement ou indirectement. Cet exemple n&rsquo;est donc pas valide :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ENTITY monentite &#34;&amp;monentite;&#34;&gt;</span>
</span></span></code></pre></div><h2 id=dtd-interne-et-externe>DTD interne et externe
<a class=anchor href=#dtd-interne-et-externe>#</a></h2><p>Normalement, on fait référence à un document DTD à l&rsquo;aide d&rsquo;une URL, c&rsquo;est ce qu&rsquo;on appelle la DTD externe. Mais il est possible d&rsquo;ajouter ses propres instructions DTD directement dans le document XML, en ajoutant une DTD interne qui est lue avant la DTD externe.</p><p>Prenons l&rsquo;exemple suivant, soit un document XML qui débute par :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;?xml version=&#34;1.0&#34; ?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!DOCTYPE question SYSTEM &#34;question.dtd&#34; [
</span></span></span><span style=display:flex><span><span style=color:#57606a>  &lt;!ELEMENT question #PCDATA&gt;</span>
</span></span><span style=display:flex><span>]&gt;
</span></span></code></pre></div><p>Dans ce cas, tout ce passe comme si on ajoutait la ligne « » à la DTD externe. Normalement, il ne devrait jamais y avoir de conflit entre les deux DTD (interne et externe); on ne peut pas redéfinir un élément, mais on peut y définir des éléments! Par contre, les entités peuvent être redéfinies et la définition trouvée dans le DTD interne l&rsquo;emporte.</p><p>On peut même omettre complètement la DTD externe comme dans l&rsquo;exemple suivant :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;?xml version=&#34;1.0&#34; ?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!DOCTYPE question [
</span></span></span><span style=display:flex><span><span style=color:#57606a>  &lt;!ELEMENT question #PCDATA&gt;</span>
</span></span><span style=display:flex><span>]&gt;
</span></span></code></pre></div><h2 id=les-entités-paramètres>Les entités paramètres
<a class=anchor href=#les-entit%c3%a9s-param%c3%a8tres>#</a></h2><p>On peut aussi définir des entités particulières qui ne s&rsquo;appliquent que dans le contexte de la DTD, et non pas dans le document XML. Pour ces entités, au lieu d&rsquo;utiliser l&rsquo;esperluette ( & ), on utilise plutôt le symbole du pourcentage ( % ). Ainsi, l&rsquo;instruction suivante :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ENTITY % monentite &#34;#PCDATA|age*&#34;&gt;</span>
</span></span></code></pre></div><p>signifie que partout, dans la DTD externe, où se trouve le texte « %monentite; », il sera remplacé par « #PCDATA|age* »; on appelle ces entités des « entités paramètres ». On peut définir une entité paramètre dans la DTD interne, mais on ne peut pas l&rsquo;y utiliser; elle doit être utilisée dans la DTD externe. Si l&rsquo;entité paramètre « %monentite; » est définie, à la fois dans la DTD interne et dans la DTD externe, la DTD interne a préséance. En somme, les entités paramètres ne s&rsquo;appliquent que dans la DTD externe; elles ne s&rsquo;appliquent ni dans le document XML, ni dans le DTD interne, soit la partie de la DTD définie dans le document XML.</p><h2 id=commentaires-dans-les-fichiers-dtd>Commentaires dans les fichiers DTD
<a class=anchor href=#commentaires-dans-les-fichiers-dtd>#</a></h2><p>Pour rendre un fichier DTD plus compréhensible, on peut ajouter des commentaires. La syntaxe est la même que pour les fichiers XML comme le montre l&rsquo;exemple suivant.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!-- ceci est un commentaire --&gt;</span>
</span></span></code></pre></div><p>Les commentaires dans les fichiers Relax NG non-textuel sont obtenus en débutant une ligne par le symbole « # » comme dans cet exemple.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span># ceci est un commentaire
</span></span></code></pre></div><h2 id=une-comparaison-entre-relax-ng-et-dtd>Une comparaison entre Relax NG et DTD
<a class=anchor href=#une-comparaison-entre-relax-ng-et-dtd>#</a></h2><p>Une fois qu&rsquo;on connaît bien le format DTD, il est facile d&rsquo;apprendre Relax NG. Prenons d&rsquo;abord un de nos exemples de fichier DTD.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT lettre (#PCDATA|personne)* &gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT personne (age,nom) &gt;</span>
</span></span></code></pre></div><p>Une étude attentive vous permettra de constater que ce fichier est très similaire au fichier Relax NG suivant, qui lui est essentiellement équivalent.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>element lettre { (text | element personne { element age { text }, element nom { text } })* }
</span></span></code></pre></div><p>Pour bien comprendre, prenons un autre exemple, plus complexe cette fois-ci. Voici un autre fichier DTD discuté précédemment.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT question (questionText,answer+) &gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT questionText (#PCDATA) &gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT answer (#PCDATA) &gt;</span>
</span></span></code></pre></div><p>Voici l&rsquo;équivalent en Relax NG. Si vous l&rsquo;étudiez avec soin, vous verrez qu&rsquo;encore une fois, le format Relax NG est très similaire au format DTD.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>element question { element questionText { text }, element answer { text }+ }
</span></span></code></pre></div><p>Prenons maintenant un exemple de fichier DTD contenant un attribut.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT personne (nom,age) &gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!ATTLIST personne code CDATA #REQUIRED&gt;</span>
</span></span></code></pre></div><p>L&rsquo;équivalent Relax NG est, encore une fois, assez compréhensible comme vous pourrez le constater, l&rsquo;instruction ATTLIST étant remplacée par l&rsquo;instruction « attribute ».</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>element personne { attribute code { text }, element nom { text }, element age { text } }
</span></span></code></pre></div><p>Lorsqu&rsquo;on utilise l&rsquo;instruction attribute, la présence de l&rsquo;attribut est requise à moins d&rsquo;ajouter le point d&rsquo;interrogation (« ? ») à la suite de l&rsquo;instruction.</p><p>Le format Relax NG permet aussi de définir des motifs qui peuvent être réutilisés. Prenons ce fichier DTD simple.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT problemset (choice+) &gt;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT choice (#PCDATA) &gt;</span>
</span></span></code></pre></div><p>L&rsquo;équivalent en Relax NG donne ceci.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>choiceele = element choice { text }
</span></span><span style=display:flex><span>element problemset { choiceele+ }
</span></span></code></pre></div><p>Le format Relax NG a cependant plusieurs avantages. Par exemple, l&rsquo;esperluette (&) permet de spécifier que des éléments puissent être inclus dans n&rsquo;importe quel ordre. Il n&rsquo;y a pas d&rsquo;équivalent en DTD. Considérons l&rsquo;exemple suivant.</p><pre tabindex=0><code>element card { element name { text } &amp; element email { text } }
</code></pre><p>On peut alors permettre le XML suivant. Il n&rsquo;est pas possible de spécifier le contenu de l&rsquo;élément card avec une instruction DTD similaire.</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#0550ae>&lt;card&gt;&lt;email&gt;</span>jean@exemple.com<span style=color:#0550ae>&lt;/email&gt;&lt;name&gt;</span>Jean<span style=color:#0550ae>&lt;/name&gt;&lt;/card&gt;</span>
</span></span></code></pre></div><p>Supposons maintenant qu&rsquo;un élément puisse avoir soit l&rsquo;attribut nas, soit à la fois les attributs nas1 et nas2. Alors qu&rsquo;il n&rsquo;est pas possible de représenter cette condition en DTD, c&rsquo;est une chose facile en Relax NG.</p><pre tabindex=0><code>element personne { attribute nas { text } | (attribute nas1 { text } &amp; attribute nas2 { text }) }
</code></pre><h2 id=une-approche-plus-modulaire>Une approche plus modulaire
<a class=anchor href=#une-approche-plus-modulaire>#</a></h2><p>En pratique, les fichiers DTD et Relax NG peuvent devenir complexes. On souhaite donc souvent les diviser en plusieurs fichiers plus petits. Par exemple, pour une spécification portant des ventes et achats de biens, on pourra avoir un fichier portant sur la description des biens, un fichier portant sur la description des acheteurs, et ainsi de suite. Une approche modulaire, avec de petits fichiers, a aussi l&rsquo;avantage qu&rsquo;on peut réutiliser les fichiers dans plus d&rsquo;une spécification.</p><p>À titre d&rsquo;exemple, reprenons le fichier DTD portant sur la définition de l&rsquo;élément « problemset ». Au lieu de définir tout d&rsquo;un seul coup, on peut commencer par un fichier DTD qui ne définit que l&rsquo;élément « choice » :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT choice (#PCDATA)&gt;</span>
</span></span></code></pre></div><p>Pour les fins de notre exemple, supposons que ce dernier fichier porte le nom de « choice.dtd » et se trouve à l&rsquo;adresse « <a href=http://www.mondomaine.com/choice.dtd>http://www.mondomaine.com/choice.dtd</a> ». On pourra alors en importer le contenu dans un autre fichier externe avec une « entité paramètre externe ». À la différence d&rsquo;une entité paramètre usuelle, une entité paramètre externe pointe vers un autre document que le logiciel devra traiter. On définit l&rsquo;entité paramètre externe avec l&rsquo;instruction « SYSTEM » suivie d&rsquo;une adresse web comme dans cet exemple :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ENTITY % monentite SYSTEM &#34;http://www.mondomaine.com/choice.dtd&#34;&gt;</span>
</span></span></code></pre></div><p>Pour inclure le contenu du fichier externe (« choice.dtd » dans notre exemple), il suffit tout simplement de faire appel à l&rsquo;entité comme ceci :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>%monentite;
</span></span></code></pre></div><p>Dans ce cas, tout se déroule comme si le contenu du fichier « choice.dtd » était inséré à l&rsquo;endroit où se trouve l&rsquo;appel (« %monentite; »). On peut définir l&rsquo;élément « problemset » à l&rsquo;aide du fichier DTD suivant :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#57606a>&lt;!ELEMENT problemset (choice+)&gt;</span>
</span></span></code></pre></div><p>On peut obtenir le même résultat avec Relax NG, un peu plus simplement avec l&rsquo;utilisation de l&rsquo;instruction « include ». Créons d&rsquo;abord un fichier « choice.rnc » avec le contenu suivant :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>choiceele = element choice { text }
</span></span></code></pre></div><p>On peut alors réutiliser le motif « choiceele » dans n&rsquo;importe quel autre fichier Relax NG comme le montre cet exemple :</p><div class=highlight><pre tabindex=0 style=background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>include &#34;choice.rnc&#34;
</span></span><span style=display:flex><span>element problemset { choiceele+ }
</span></span></code></pre></div><p>En bref, il est facile de diviser des spécifications Relax NG ou DTD en plusieurs fichiers plus petits, plus faciles à éditer, et qui peuvent être plus facilement réutilisés.</p><h2 id=définir-lélément-racine>Définir l&rsquo;élément-racine
<a class=anchor href=#d%c3%a9finir-l%c3%a9l%c3%a9ment-racine>#</a></h2><p>Avec une DTD, il n&rsquo;est pas possible de définir l&rsquo;élément-racine. Celui-ci est déclaré par l&rsquo;instruction DOCTYPE qui se trouve dans le document XML. Avec Relax NG, on peut non seulement spécifier l&rsquo;élément-racine avec le mot-clef start, mais on peut aussi permettre une certaine flexibilité. Par exemple, l&rsquo;instruction « start = problemset | choice » placée dans un fichier Relax NG, nous indique qu&rsquo;on peut utilisé l&rsquo;élément problemset ou l&rsquo;élément choice comme élément-racine.</p><h2 id=définir-le-type-de-contenu-en-relax-ng>Définir le type de contenu en Relax NG
<a class=anchor href=#d%c3%a9finir-le-type-de-contenu-en-relax-ng>#</a></h2><p>Dans tous nos exemples de Relax NG, nous n&rsquo;avons prévu que du contenu textuel (text) ou des éléments vides (empty). Relax NG permet de spécifier le contenu d&rsquo;un élément ou d&rsquo;un attribut d&rsquo;une manière très fine. Il emprunte ici la spécification mise au point par XML Schema. En particulier, on peut spécifier un contenu textuel à l&rsquo;aide d&rsquo;une expression régulière. Voici quelques exemples.</p><table><thead><tr><th>Type</th><th>Explication</th><th>Exemple</th></tr></thead><tbody><tr><td>xsd:date</td><td>Une date formattée avec la convention YYYY-MM-DD</td><td>2001-01-01 ou 1999-12-30</td></tr><tr><td>xsd:dateTime</td><td>Un moment spécifique à la seconde près</td><td>2000-12-31T03:32:00</td></tr><tr><td>xsd:string {pattern = &ldquo;[^:]+&rdquo; }</td><td>Une chaîne de caractères contenant au moins un caractère, à l&rsquo;exclusion du symbole :</td><td>maison</td></tr><tr><td>xsd:string { pattern = &ldquo;.+/.+&rdquo; }</td><td>Deux chaînes de caractères séparée par un caractère /</td><td>01/01</td></tr><tr><td>xsd:string { pattern = &ldquo;.+@.+&rdquo;}</td><td>Deux chaînes de caractères séparée par un caractère @</td><td><a href=mailto:lala@to.com>lala@to.com</a></td></tr><tr><td>&ldquo;text&rdquo; | &ldquo;html&rdquo;</td><td>text ou html</td><td>text</td></tr><tr><td>xsd:string { minLength=&ldquo;7&rdquo; maxLength=&ldquo;25&rdquo; }</td><td>Une chaîne caractères faisant entre 7 et 25 caractères</td><td>monmotdepasse</td></tr><tr><td>xsd:decimal { minExclusive=&ldquo;0.0&rdquo; maxInclusive=&ldquo;10.0&rdquo; }</td><td>Un nombre entre 0 et 10</td><td>5</td></tr><tr><td>xsd:decimal { fractionDigits=&ldquo;3&rdquo; }</td><td>Un nombre n&rsquo;ayant pas plus de 3 chiffres après la virgule (le point)</td><td>5.001</td></tr></tbody></table><p>On déclare ensuite le contenu d&rsquo;un élément ou d&rsquo;un attribut comme ceci : element madate {xsd:date}.</p><h2 id=est-ce-quil-existe-un-outil-pour-passer-dun-format-à-lautre-dtd-relax-ng-xml-schema>Est-ce qu&rsquo;il existe un outil pour passer d&rsquo;un format à l&rsquo;autre (DTD, Relax NG, XML Schema)?
<a class=anchor href=#est-ce-quil-existe-un-outil-pour-passer-dun-format-%c3%a0-lautre-dtd-relax-ng-xml-schema>#</a></h2><p>Oui, le programme Java Trang permet de passer facilement d&rsquo;un format à l&rsquo;autre.</p><h2 id=est-ce-quun-document-dtd-est-un-document-xml>Est-ce qu&rsquo;un document DTD est un document XML?
<a class=anchor href=#est-ce-quun-document-dtd-est-un-document-xml>#</a></h2><p>Absolument pas. Par contre, une DTD est un document textuel. Les fichiers XML Schema sont par contre toujours en XML, alors que les fichiers Relax NG sont parfois en XML, parfois en simple format textuel comme dans nos exemples.</p><h2 id=pourquoi-est-ce-quil-nest-pas-suffisant-dutiliser-des-documents-bien-formés-à-quoi-sert-la-validation>Pourquoi est-ce qu&rsquo;il n&rsquo;est pas suffisant d&rsquo;utiliser des documents bien formés? À quoi sert la validation?
<a class=anchor href=#pourquoi-est-ce-quil-nest-pas-suffisant-dutiliser-des-documents-bien-form%c3%a9s-%c3%a0-quoi-sert-la-validation>#</a></h2><p>Les documents XML sont faits pour être échangés et assurer la pérennité des informations. Si plusieurs individus ou plusieurs institutions s&rsquo;entendent sur une DTD commune, il sera beaucoup plus facile d&rsquo;échanger de l&rsquo;information.</p><h2 id=est-ce-vraiment-nécessaire-davoir-des-documents-valides-est-ce-que-je-dois-vraiment-toujours-travailler-avec-des-fichiers-dtd-xml-schema-ou-relax-ng>Est-ce vraiment nécessaire d&rsquo;avoir des documents valides? Est-ce que je dois vraiment toujours travailler avec des fichiers DTD, XML Schema ou Relax NG?
<a class=anchor href=#est-ce-vraiment-n%c3%a9cessaire-davoir-des-documents-valides-est-ce-que-je-dois-vraiment-toujours-travailler-avec-des-fichiers-dtd-xml-schema-ou-relax-ng>#</a></h2><p>En pratique, la validation n&rsquo;est pas essentielle et une application logicielle ne devrait pas exiger des documents valides. Si vous concevez une application, la règle implicite est que toute balise ou attribut non prévue devrait être ignorée. Un navigateur qui sait lire et afficher du XML devrait pouvoir lire tout XML bien formé, même s&rsquo;il n&rsquo;est pas valide. Si vous inventez une nouvelle balise XHTML, le navigateur devrait tout simplement ne pas en tenir compte. Les concepteurs du XML n&rsquo;ont pas inscrit la nécessité d&rsquo;être valide à même la définition du XML et c&rsquo;est un choix qui n&rsquo;a jamais été remis en question par l&rsquo;organisme de normalisation W3C.</p><p>Il arrive, par exemple, qu&rsquo;il soit inutilement complexe d&rsquo;exiger que les documents soient valides. Si on se contraint à des documents valides, on peut même en arriver à des solutions qui sont techniquement inférieures.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><div class="flex flex-wrap justify-between"><a href=/orientee_donnees/docs/modules/b_module_xml/base/autoevaluation/ class="flex align-center float-left book-icon"><img src=/orientee_donnees/svg/backward.svg alt=Previous title="Autoévaluation XML">
<span>Autoévaluation XML</span>
</a><a href=/orientee_donnees/docs/modules/b_module_xml/valid/validation_de_documents_xml/ class="flex align-center float-right book-icon"><span>Validation de documents XML</span>
<img src=/orientee_donnees/svg/forward.svg alt=Next title="Validation de documents XML"></a></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#document-xml-valide>Document XML valide</a></li><li><a href=#normes-de-définition-de-type-de-document>Normes de définition de type de document</a></li><li><a href=#documents-valides-utilisant-la-norme-dtd>Documents valides utilisant la norme DTD</a></li><li><a href=#la-syntaxe-des-documents-dtd>La syntaxe des documents DTD</a></li><li><a href=#exemple-supplémentaire>Exemple supplémentaire</a></li><li><a href=#les-attributs>Les attributs</a></li><li><a href=#les-entités>Les entités</a></li><li><a href=#dtd-interne-et-externe>DTD interne et externe</a></li><li><a href=#les-entités-paramètres>Les entités paramètres</a></li><li><a href=#commentaires-dans-les-fichiers-dtd>Commentaires dans les fichiers DTD</a></li><li><a href=#une-comparaison-entre-relax-ng-et-dtd>Une comparaison entre Relax NG et DTD</a></li><li><a href=#une-approche-plus-modulaire>Une approche plus modulaire</a></li><li><a href=#définir-lélément-racine>Définir l&rsquo;élément-racine</a></li><li><a href=#définir-le-type-de-contenu-en-relax-ng>Définir le type de contenu en Relax NG</a></li><li><a href=#est-ce-quil-existe-un-outil-pour-passer-dun-format-à-lautre-dtd-relax-ng-xml-schema>Est-ce qu&rsquo;il existe un outil pour passer d&rsquo;un format à l&rsquo;autre (DTD, Relax NG, XML Schema)?</a></li><li><a href=#est-ce-quun-document-dtd-est-un-document-xml>Est-ce qu&rsquo;un document DTD est un document XML?</a></li><li><a href=#pourquoi-est-ce-quil-nest-pas-suffisant-dutiliser-des-documents-bien-formés-à-quoi-sert-la-validation>Pourquoi est-ce qu&rsquo;il n&rsquo;est pas suffisant d&rsquo;utiliser des documents bien formés? À quoi sert la validation?</a></li><li><a href=#est-ce-vraiment-nécessaire-davoir-des-documents-valides-est-ce-que-je-dois-vraiment-toujours-travailler-avec-des-fichiers-dtd-xml-schema-ou-relax-ng>Est-ce vraiment nécessaire d&rsquo;avoir des documents valides? Est-ce que je dois vraiment toujours travailler avec des fichiers DTD, XML Schema ou Relax NG?</a></li></ul></nav></div></aside></main></body></html>